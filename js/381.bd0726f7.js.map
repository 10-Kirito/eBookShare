{"version":3,"file":"js/381.bd0726f7.js","mappings":"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","sources":["webpack://frontdesk/./src/views/UploadBook.vue","webpack://frontdesk/src/views/UploadBook.vue","webpack://frontdesk/./src/views/UploadBook.vue?9e93","webpack://frontdesk/./src/views/UploadBook.vue?d609"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('el-card',{staticStyle:{\"width\":\"500px\",\"margin\":\"50px auto auto\"}},[_c('el-form',{attrs:{\"label-width\":\"80px\",\"size\":\"small\"}},[_c('el-form-item',{attrs:{\"label\":\"书名\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":\"1\",\"autocomplete\":\"off\",\"placeholder\":\"请输入书籍名称\"},model:{value:(_vm.form.bookname),callback:function ($$v) {_vm.$set(_vm.form, \"bookname\", $$v)},expression:\"form.bookname\"}})],1),_c('el-form-item',{attrs:{\"label\":\"作者\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":\"1\",\"autocomplete\":\"off\",\"placeholder\":\"请输入作者\"},model:{value:(_vm.form.author),callback:function ($$v) {_vm.$set(_vm.form, \"author\", $$v)},expression:\"form.author\"}})],1),_c('el-form-item',{attrs:{\"label\":\"出版社\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":\"1\",\"autocomplete\":\"off\",\"placeholder\":\"请输入出版社\"},model:{value:(_vm.form.publisher),callback:function ($$v) {_vm.$set(_vm.form, \"publisher\", $$v)},expression:\"form.publisher\"}})],1),_c('el-form-item',{attrs:{\"label\":\"isbn\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":\"1\",\"autocomplete\":\"off\",\"placeholder\":\"请输入书籍isbn\"},model:{value:(_vm.form.isbn),callback:function ($$v) {_vm.$set(_vm.form, \"isbn\", $$v)},expression:\"form.isbn\"}})],1),_c('el-form-item',{attrs:{\"label\":\"简介\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":\"6\",\"autocomplete\":\"off\",\"placeholder\":\"请输入简介\"},model:{value:(_vm.form.description),callback:function ($$v) {_vm.$set(_vm.form, \"description\", $$v)},expression:\"form.description\"}})],1),_c('el-form-item',{attrs:{\"label\":\"分类\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":\"1\",\"autocomplete\":\"off\",\"placeholder\":\"请输入分类\"},model:{value:(_vm.form.category),callback:function ($$v) {_vm.$set(_vm.form, \"category\", $$v)},expression:\"form.category\"}})],1),_c('el-upload',{ref:\"uploadpic\",staticClass:\"avatar-uploader\",staticStyle:{\"text-align\":\"center\"},attrs:{\"action\":\"http://61.171.68.199:9091/auditbooks/uploadpic\",\"show-file-list\":false,\"auto-upload\":false,\"on-success\":_vm.addBookInfo,\"on-change\":_vm.handlePictureCardPreview}},[(_vm.form.avatarurl)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.form.avatarurl}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\",staticStyle:{\"border\":\"1px dashed seagreen\"}}),_c('el-dialog',{attrs:{\"visible\":_vm.dialogVisible,\"append-to-body\":\"\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('img',{attrs:{\"width\":\"100%\",\"src\":_vm.dialogImageUrl,\"alt\":\"\"}})])],1),_c('el-form-item',{staticStyle:{\"margin-left\":\"-140px\"}},[_c('el-upload',{ref:\"upload\",staticClass:\"upload-demo\",attrs:{\"type\":\"file\",\"data\":_vm.uploadData,\"name\":\"file\",\"action\":\"http://61.171.68.199:9091/auditbooks/upload\",\"limit\":1,\"auto-upload\":false,\"on-change\":_vm.loadJsonFromFile,\"on-success\":_vm.uploadPicFile,\"on-error\":_vm.uploadError,\"before-upload\":_vm.beforeUpload,\"before-remove\":_vm.beforeRemove},scopedSlots:_vm._u([{key:\"trigger\",fn:function(){return [_c('el-button',{staticStyle:{\"margin\":\"20px 60px auto\"},attrs:{\"type\":\"primary\"}},[_vm._v(\"选择\")])]},proxy:true},{key:\"tip\",fn:function(){return undefined},proxy:true}])},[_c('el-button',{staticStyle:{\"margin-left\":\"5px\",\"margin-bottom\":\"20px\"},attrs:{\"type\":\"success\"},on:{\"click\":_vm.uploadBookFile}},[_vm._v(\" 确定 \")])],1)],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <el-card style=\"width: 500px;margin: 50px auto auto;\" >\r\n      <!--    根据实际表格情况，进行增删-->\r\n      <el-form label-width=\"80px\" size=\"small\">\r\n        <el-form-item label=\"书名\">\r\n          <el-input type=\"textarea\" rows=\"1\" v-model=\"form.bookname\" autocomplete=\"off\" placeholder=\"请输入书籍名称\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"作者\">\r\n          <el-input type=\"textarea\" rows=\"1\" v-model=\"form.author\" autocomplete=\"off\" placeholder=\"请输入作者\"/>\r\n        </el-form-item>\r\n        <el-form-item label=\"出版社\">\r\n          <el-input type=\"textarea\" rows=\"1\" v-model=\"form.publisher\" autocomplete=\"off\" placeholder=\"请输入出版社\"/>\r\n        </el-form-item>\r\n        <el-form-item label=\"isbn\">\r\n          <el-input type=\"textarea\" rows=\"1\" v-model=\"form.isbn\" autocomplete=\"off\" placeholder=\"请输入书籍isbn\"/>\r\n        </el-form-item>\r\n        <el-form-item label=\"简介\" >\r\n          <el-input type=\"textarea\" v-model=\"form.description\" rows=\"6\" autocomplete=\"off\" placeholder=\"请输入简介\"/>\r\n        </el-form-item>\r\n        <el-form-item label=\"分类\">\r\n          <el-input type=\"textarea\" rows=\"1\" v-model=\"form.category\" autocomplete=\"off\" placeholder=\"请输入分类\"/>\r\n        </el-form-item>\r\n\r\n\r\n        <!--上传书籍封面图片-->\r\n        <el-upload\r\n            style=\"text-align: center\"\r\n            ref=\"uploadpic\"\r\n            class=\"avatar-uploader\"\r\n            action=\"http://61.171.68.199:9091/auditbooks/uploadpic\"\r\n            :show-file-list=\"false\"\r\n            :auto-upload=\"false\"\r\n            :on-success=\"addBookInfo\"\r\n            :on-change=\"handlePictureCardPreview\"\r\n        >\r\n          <img v-if=\"form.avatarurl\" :src=\"form.avatarurl\" class=\"avatar\" />\r\n\r\n          <i v-else class=\"el-icon-plus avatar-uploader-icon\" style=\"border: 1px dashed seagreen;\"></i>\r\n          <el-dialog :visible.sync=\"dialogVisible\" append-to-body>\r\n            <img width=\"100%\" :src=\"dialogImageUrl\" alt=\"\">\r\n          </el-dialog>\r\n        </el-upload>\r\n\r\n        <el-form-item style=\"margin-left: -140px\">\r\n          <el-upload\r\n              type=\"file\"\r\n              ref=\"upload\"\r\n              :data=\"uploadData\"\r\n              name=\"file\"\r\n              class=\"upload-demo\"\r\n              action=\"http://61.171.68.199:9091/auditbooks/upload\"\r\n              :limit=\"1\"\r\n              :auto-upload=\"false\"\r\n              :on-change=\"loadJsonFromFile\"\r\n              :on-success=\"uploadPicFile\"\r\n              :on-error=\"uploadError\"\r\n              :before-upload=\"beforeUpload\"\r\n              :before-remove=\"beforeRemove\"\r\n          >\r\n            <template #trigger>\r\n              <el-button type=\"primary\" style=\"margin: 20px 60px auto\" >选择</el-button>\r\n            </template>\r\n            <el-button type=\"success\" style=\" margin-left: 5px;margin-bottom: 20px\" @click=\"uploadBookFile\">\r\n              确定\r\n            </el-button>\r\n            <template #tip>\r\n            </template>\r\n          </el-upload>\r\n        </el-form-item>\r\n\r\n      </el-form>\r\n\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  inject:['reload'],\r\n  name: \"UploadBook\",\r\n  data() {\r\n    return {\r\n      form: {},\r\n      file:'',\r\n      uploadFiles: [],\r\n      uploadData: {},\r\n      dialogVisible: false,\r\n      dialogImageUrl: \"\",\r\n      queryParams:\"\",\r\n      user: localStorage.getItem(\"loguserinfo\") ? JSON.parse(localStorage.getItem(\"loguserinfo\")) : {}\r\n    }\r\n  },\r\n  methods:{\r\n    //将书籍封面上传至服务器之后，在数据库中添加相关的数据\r\n    addBookInfo(respon){\r\n      let file = this.uploadFiles[0]\r\n      // this.$message.error(\"获取文件名：\"+file.name)\r\n      console.log(file.name);\r\n      console.log(this.form);\r\n\r\n      var filename_ = encodeURIComponent(file.name);\r\n      var bookname_ = encodeURIComponent(this.form.bookname);\r\n      var author_ = encodeURIComponent(this.form.author);\r\n      var publisher_ = encodeURIComponent(this.form.publisher);\r\n      var isbn_ = encodeURIComponent(this.form.isbn);\r\n      var description_ = encodeURIComponent(this.form.description);\r\n      var category_ = encodeURIComponent(this.form.category);\r\n\r\n\r\n\r\n      this.request.get(\"/auditbooks/addbookinfo\", {\r\n        params: {\r\n          filename: filename_,\r\n          bookname: bookname_,\r\n          author: author_,\r\n          publisher: publisher_,\r\n          isbn: isbn_,\r\n          description: description_,\r\n          category: category_,\r\n        }\r\n      })\r\n          .then(res => {\r\n            if (res.code === '200') {\r\n              this.$message.success(\"上传成功\")\r\n              //this.$router.push(\"/admins/ebookmanage\")\r\n            } else {\r\n              this.$message.error(\"上传失败\")\r\n            }\r\n          })\r\n\r\n      this.reload();\r\n    },\r\n    handlePictureCardPreview(file) {\r\n      this.dialogVisible = true\r\n      if (!file.url) {\r\n        file.url = URL.createObjectURL(file.raw);\r\n      }\r\n      this.dialogImageUrl = file.url\r\n      this.form.avatarurl = file.url\r\n    },\r\n    loadJsonFromFile(file, fileList) {\r\n      //判断文件大小\r\n      this.uploadFiles = fileList\r\n      var FileExt = file.name.replace(/.+\\./, \"\")\r\n      const isLt5M = file.size / 1024 / 1024 < 100\r\n      var extension = ['pdf', 'epub'].indexOf(FileExt.toLowerCase()) === -1\r\n      if (extension){\r\n        this.$message.warning( '只能上传 PDF  EPUB 文件')\r\n        return false\r\n      }\r\n      if (!isLt5M) {\r\n        this.$message.warning( '附件大小超限，文件不能超过 100M')\r\n        return false\r\n      }\r\n    },\r\n    //手动上传书籍文件之后，将书籍的封面上传至服务器\r\n    uploadPicFile(respon){\r\n      console.log(respon);\r\n      // let temp = respon.data;\r\n      // throw this.request.get(\"/auditbooks/uploadUserinfo\", {\r\n      //   params: {\r\n      //     md5: temp,\r\n      //     userid: this.user.id\r\n      //   }\r\n      // }).then(res => {\r\n      //   console.log(res);\r\n      // }).catch(error => {\r\n      //   console.error(error);\r\n      // })\r\n\r\n\r\n      this.$refs.uploadpic.submit()\r\n    },\r\n    uploadError(){\r\n      this.$message.error(\"文件上传失败\")\r\n    },\r\n    beforeUpload(file){\r\n      this.uploadData.userid = this.user.id;\r\n\r\n      console.log('文件：', file)\r\n      var FileExt = file.name.replace(/.+\\./, \"\")\r\n      const isLtM = file.size / 1024 / 1024 < 100\r\n      var extension = ['pdf', 'epub'].indexOf(FileExt.toLowerCase()) === -1\r\n      if (extension){\r\n        this.$message.warning('只能上传 PDF  EPUB 文件')\r\n        return false\r\n      }\r\n      if (!isLtM) {\r\n        this.$message.warning('附件大小超限，文件不能超过 100M')\r\n        return false\r\n      }\r\n    },\r\n    beforeRemove(file,fileList){\r\n      //设置不符合条件的时候，预览框自动删除\r\n      var FileExt = file.name.replace(/.+\\./, \"\")\r\n      var isLtM = file.size / 1024 / 1024 < 100\r\n      var extension = ['pdf', 'epub'].indexOf(FileExt.toLowerCase()) === -1\r\n      if (!extension || !isLtM) {\r\n        var i = fileList.indexOf(file)\r\n        fileList.splice(i, 1) // 自动删除不符合要求的文件，不让它出现在预览列表中\r\n        return false // 只有return false 才会真的限制\r\n      } else {\r\n        return this.$confirm(`确定移除 ${file.name}？`)\r\n      }\r\n    },\r\n    //先上传书籍文件，手动上传\r\n    uploadBookFile() {\r\n      this.$refs.upload.submit()\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.avatar-uploader{\r\n  text-align: center;\r\n  padding-bottom: 10px;\r\n}\r\n.avatar-uploader .el-upload{\r\n  border: 1px dashed #d9d9d9;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n\r\n.avatar-uploader .el-upload:hover {\r\n  border-color: #409EFF;\r\n}\r\n\r\n.avatar-uploader-icon {\r\n  font-size: 28px;\r\n  color: #8c939d;\r\n  width: 158px;\r\n  height: 158px;\r\n  line-height: 158px;\r\n  text-align: center;\r\n}\r\n.avatar {\r\n  width: 138px;\r\n  height: 138px;\r\n  display: block;\r\n}\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UploadBook.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UploadBook.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UploadBook.vue?vue&type=template&id=4613a64c&scoped=true&\"\nimport script from \"./UploadBook.vue?vue&type=script&lang=js&\"\nexport * from \"./UploadBook.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UploadBook.vue?vue&type=style&index=0&id=4613a64c&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4613a64c\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticStyle","attrs","model","value","form","bookname","callback","$$v","$set","expression","author","publisher","isbn","description","category","ref","staticClass","addBookInfo","handlePictureCardPreview","avatarurl","dialogVisible","on","$event","dialogImageUrl","uploadData","loadJsonFromFile","uploadPicFile","uploadError","beforeUpload","beforeRemove","scopedSlots","_u","key","fn","_v","proxy","uploadBookFile","staticRenderFns","inject","name","data","file","uploadFiles","queryParams","user","localStorage","getItem","JSON","parse","methods","respon","console","log","filename_","encodeURIComponent","bookname_","author_","publisher_","isbn_","description_","category_","request","get","params","filename","then","res","code","$message","success","error","reload","url","URL","createObjectURL","raw","fileList","FileExt","replace","isLt5M","size","extension","indexOf","toLowerCase","warning","$refs","uploadpic","submit","userid","id","isLtM","$confirm","i","splice","upload","component"],"sourceRoot":""}