"use strict";(self["webpackChunkfrontdesk"]=self["webpackChunkfrontdesk"]||[]).push([[686,204],{8571:function(t,e,s){s.r(e),s.d(e,{default:function(){return g}});var o=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{margin:"-8px"}},[e("el-container",[e("el-header",[e("Header",{attrs:{user:t.user}})],1),e("el-main",[e("router-view",{on:{refreshUser:t.getUser}})],1),e("el-footer",{attrs:{height:"100px"}},[e("div",[e("h2",[t._v("@上海大学电子图书分享平台")])])])],1)],1)},r=[],n=(s(77),s(1120),function(){var t=this,e=t._self._c;return e("div",[e("el-header",{staticClass:"header-with-background"},[e("el-col",{attrs:{span:12,offset:1,align:"left"}},[e("div",{staticClass:"grid-content bg-purple"},[e("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:"/"}},[t._v(t._s(t.pageTitle))])],1)]),e("el-row",{attrs:{type:"flex",justify:"end"}},[e("el-col",{attrs:{span:8}},[e("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:"/"}},[t._v("首页")])],1),e("el-col",{attrs:{span:8}},[e("el-dropdown",{staticStyle:{width:"150px",cursor:"pointer","text-align":"center"}},[e("div",{staticStyle:{display:"inline-block"}},[e("span",[t._v("书架")]),e("i",{staticClass:"el-icon-arrow-down",staticStyle:{"margin-left":"5px"}})]),e("el-dropdown-menu",{staticStyle:{width:"100px","text-align":"center"},attrs:{slot:"dropdown"},slot:"dropdown"},[e("el-dropdown-item",{staticStyle:{"font-size":"14px",padding:"5px 0"}},[e("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:"/bookshelf"}},[t._v("个人书架")])],1),e("el-dropdown-item",{staticStyle:{"font-size":"14px",padding:"5px 0"}},[e("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:"/favourshelf"}},[t._v("收藏书架")])],1)],1)],1)],1),e("el-col",{attrs:{span:8}},[e("div",{directives:[{name:"show",rawName:"v-show",value:null==this.user.username,expression:"this.user.username==null"}]},[e("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:"/login"}},[t._v("登录")])],1),e("div",{directives:[{name:"show",rawName:"v-show",value:null!=this.user.username,expression:"this.user.username!=null"}]},[e("el-dropdown",{staticStyle:{width:"150px",cursor:"pointer","text-align":"right"}},[e("div",{staticStyle:{display:"inline-block"}},[e("img",{staticStyle:{width:"30px","border-radius":"50%",position:"relative",top:"10px",right:"5px"},attrs:{src:t.user.avatarurl}}),e("span",[t._v(t._s(t.user.username))]),e("i",{staticClass:"el-icon-arrow-down",staticStyle:{"margin-left":"5px"}})]),e("el-dropdown-menu",{staticStyle:{width:"100px","text-align":"center"},attrs:{slot:"dropdown"},slot:"dropdown"},[e("el-dropdown-item",{staticStyle:{"font-size":"14px",padding:"5px 0"}},[e("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:"/person"}},[t._v("个人信息")])],1),e("el-dropdown-item",{staticStyle:{"font-size":"14px",padding:"5px 0"}},[e("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:"/uploadbook"}},[t._v("上传书籍")])],1),e("span",{staticStyle:{"text-decoration":"none"},on:{click:t.logout}},[e("el-dropdown-item",{staticStyle:{"font-size":"14px",padding:"5px 0"}},[t._v("退出")])],1)],1)],1)],1)]),e("div",{directives:[{name:"show",rawName:"v-show",value:null!=this.user.username,expression:"this.user.username!=null"}],staticStyle:{width:"300px"}},[e("div",{staticClass:"grid-content bg-purple",staticStyle:{height:"60px",display:"flex","flex-direction":"column"}},[e("div",{staticStyle:{"text-decoration":"none",height:"30px","margin-top":"-10px","font-size":"13px"}},[t._v("积分:"+t._s(t.user.points)+" ")]),e("div",{staticStyle:{"text-decoration":"none",height:"30px","margin-top":"-8px","font-size":"13px"}},[t._v("免费下载次数:"+t._s(t.user.freedownload)+" ")])])])],1)],1)],1)}),i=[],a=(s(7658),{name:"Header",props:{user:Object},data(){return{pageTitle:"上海大学电子图书分享平台",imagesurl:s(2421)}},methods:{logout(){localStorage.removeItem("loguserinfo"),this.$router.push("/home"),location.reload(),this.$message.success("退出成功")},test(){console.log("123--"),console.log(null!=this.user.username)}}}),l=a,d=s(3736),c=(0,d.Z)(l,n,i,!1,null,"4a7f819c",null),p=c.exports,u={name:"Layout",components:{Header:p},data(){return{user:{}}},created(){this.getUser()},methods:{getUser(){let t=localStorage.getItem("loguserinfo")?JSON.parse(localStorage.getItem("loguserinfo")).username:"";""!==t&&(console.log("success"),this.request.get("http://124.71.166.37:9091/users/"+t).then((t=>{this.user=t.data})))}}},h=u,x=(0,d.Z)(h,o,r,!1,null,"61fa0c45",null),g=x.exports}}]);
//# sourceMappingURL=686.0d87a120.js.map