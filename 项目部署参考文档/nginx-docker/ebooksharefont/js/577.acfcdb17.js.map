{"version":3,"file":"js/577.acfcdb17.js","mappings":"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","sources":["webpack://frontdesk/./src/components/bookFromShelf.vue","webpack://frontdesk/src/components/bookFromShelf.vue","webpack://frontdesk/./src/components/bookFromShelf.vue?acb1","webpack://frontdesk/./src/components/bookFromShelf.vue?9a04","webpack://frontdesk/./src/views/BookShelf.vue","webpack://frontdesk/src/views/BookShelf.vue","webpack://frontdesk/./src/views/BookShelf.vue?5817","webpack://frontdesk/./src/views/BookShelf.vue?fa56"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.bookInfo)?_c('div',{staticStyle:{\"width\":\"420px\",\"margin-top\":\"20px\",\"margin-left\":\"60px\"},on:{\"click\":_vm.goToPreview}},[_c('el-tooltip',{staticStyle:{\"height\":\"370px\"},attrs:{\"placement\":\"top\",\"effect\":\"light\"}},[_c('div',{attrs:{\"slot\":\"content\"},slot:\"content\"},[_c('span',[_vm._v(_vm._s(_vm.bookInfo.bookname))]),_c('div',[_c('p',{staticStyle:{\"width\":\"250px\"}},[_vm._v(_vm._s(_vm.bookInfo.description))]),_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":_vm.download}},[_vm._v(\"下载\")])],1)]),_c('el-card',{staticStyle:{\"height\":\"100%\"}},[_c('div',{staticStyle:{\"position\":\"relative\",\"width\":\"100%\",\"height\":\"100%\"}},[_c('img',{staticClass:\"image\",staticStyle:{\"height\":\"300px\"},attrs:{\"src\":_vm.bookInfo.coverimage}})]),_c('div',{staticStyle:{\"margin-top\":\"2px\",\"margin-bottom\":\"2px\"}},[_vm._v(\" \"+_vm._s(_vm.bookInfo.bookname)+\" \")])])],1)],1):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div @click=\"goToPreview\" v-if=\"bookInfo\" style=\"width: 420px; margin-top: 20px;margin-left: 60px\">\r\n    <!--  下面的代码目的是为了展示位于书架上的一本图书！-->\r\n\r\n\r\n    <el-tooltip placement=\"top\" effect=\"light\" style=\"height: 370px\">\r\n      <!--  鼠标移动提示部分-->\r\n      <div slot=\"content\">\r\n        <span>{{ bookInfo.bookname }}</span>\r\n        <div>\r\n          <p style=\"width: 250px\">{{ bookInfo.description}}</p>\r\n          <el-button type=\"success\" @click=\"download\">下载</el-button>\r\n        </div>\r\n      </div>\r\n\r\n      <!--  图片显示部分-->\r\n      <el-card style=\"height: 100%\">\r\n        <div style=\"position: relative; width: 100%; height: 100%;\">\r\n          <img :src=\"bookInfo.coverimage\" class=\"image\" style=\"height: 300px\">\r\n        </div>\r\n\r\n        <div style=\"margin-top: 2px; margin-bottom: 2px\">\r\n          {{ bookInfo.bookname }}\r\n        </div>\r\n      </el-card>\r\n    </el-tooltip>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"bookFromShelf\",\r\n  props :{\r\n    bookInfo: {}\r\n  },\r\n  data(){\r\n    // 图片显示问题：\r\n    // 1. 使用绝对路径比较好，将要显示的图片信息存放在public下的images文件夹中\r\n    // 我们就可以直接使用bookView: \"/images/books.png\"来进行访问\r\n    // 2. 使用相对路径访问图片信息，该种情况需要将图片信息存放在assets/images文件夹中\r\n    // 然后我们就可以使用bookView: require(\"../assets/images/books.png\")来进行访问\r\n    return{\r\n      // 图书信息\r\n      bookDetails: {\r\n        // 绝对路径访问图片信息:\r\n        // bookView: \"/images/books.png\",\r\n        // testView: \"http://124.71.166.37:9091/file/bookpic/95682c942b8b475bb90ec9f51bd57019.png\"\r\n        // 相对路径访问图片信息:\r\n        // bookView: require(\"../assets/images/books.png\")\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    console.log(this.bookInfo);\r\n  },\r\n  methods: {\r\n    // 如果点击图书封面的话，会去在线预览电子图书\r\n    goToPreview(){\r\n      let url = 'http://124.71.166.37:9091/file/5c50f98e6850407fa82991b6e248915a.pdf';\r\n      window.open(`/lib/pdfjs-3.5.141-dist/web/viewer.html?file=${url}`);\r\n    },\r\n    // 下载图书按钮\r\n    download(){\r\n      console.log(this.bookInfo.url);\r\n      window.open(this.bookInfo.url);\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.time {\r\n  font-size: 13px;\r\n  color: #999;\r\n}\r\n\r\n.bottom {\r\n  margin-top: 13px;\r\n  line-height: 12px;\r\n}\r\n\r\n.button {\r\n  padding: 0;\r\n  float: right;\r\n}\r\n\r\n.image {\r\n  width: 100%;\r\n  display: block;\r\n}\r\n\r\n.clearfix:before,\r\n.clearfix:after {\r\n  display: table;\r\n  content: \"\";\r\n}\r\n\r\n.clearfix:after {\r\n  clear: both\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./bookFromShelf.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./bookFromShelf.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./bookFromShelf.vue?vue&type=template&id=64987cac&scoped=true&\"\nimport script from \"./bookFromShelf.vue?vue&type=script&lang=js&\"\nexport * from \"./bookFromShelf.vue?vue&type=script&lang=js&\"\nimport style0 from \"./bookFromShelf.vue?vue&type=style&index=0&id=64987cac&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"64987cac\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"header-with-background\",staticStyle:{\"width\":\"90%\",\"margin-left\":\"5%\"}},[_vm._l((_vm.rowCount),function(row,index1){return (_vm.booksData[(row - 1) * _vm.colCount])?_c('el-row',{key:row,staticStyle:{\"margin-bottom\":\"30px\",\"min-width\":\"1200px\"},attrs:{\"gutter\":24}},_vm._l((_vm.colCount),function(col,index2){return _c('el-col',{key:col,staticStyle:{\"width\":\"300px\"},attrs:{\"span\":6}},[(_vm.dataload)?_c('book-from-shelf',{staticStyle:{\"width\":\"100%\"},attrs:{\"bookInfo\":_vm.booksData[(row - 1) * _vm.colCount + col - 1]}}):_vm._e()],1)}),1):_vm._e()}),_c('el-row',{staticStyle:{\"margin-top\":\"10px\"}},[_c('div',[_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-size\":_vm.pageSize,\"layout\":\"prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange,\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event}}})],1)])],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div style=\"width: 90%; margin-left: 5%\" class=\"header-with-background\">\r\n\r\n\r\n\r\n    <!-- 图书信息展示-->\r\n    <el-row :gutter=\"24\" v-for=\"(row ,index1) in rowCount\" v-if=\"booksData[(row - 1) * colCount]\" :key=\"row\" style=\"margin-bottom: 30px;min-width: 1200px\">\r\n        <el-col :span=\"6\" v-for=\"(col, index2) in colCount\" :key=\"col\" style=\"width: 300px\">\r\n            <book-from-shelf  v-if=\"dataload\" :bookInfo=\"booksData[(row - 1) * colCount + col - 1]\" style=\"width: 100%;\"></book-from-shelf>\r\n        </el-col>\r\n    </el-row>\r\n\r\n\r\n    <!-- 分页查询选项-->\r\n    <el-row style=\"margin-top: 10px\">\r\n      <div >\r\n        <el-pagination\r\n            @size-change=\"handleSizeChange\"\r\n            @current-change=\"handleCurrentChange\"\r\n            :current-page.sync=\"currentPage\"\r\n            :page-size=\"pageSize\"\r\n            layout=\"prev, pager, next, jumper\"\r\n            :total=\"total\">\r\n        </el-pagination>\r\n      </div>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport bookFromShelf from \"@/components/bookFromShelf.vue\";\r\nimport Vue from \"vue\";\r\n\r\nexport default {\r\n  name: \"BookShelf\",\r\n  components:{\r\n    bookFromShelf,\r\n  },\r\n  data(){\r\n    return{\r\n      // 设置书架的行数和列数\r\n      rowCount: 3,\r\n      colCount: 4,\r\n\r\n      // 分页查询，每一页的个数 = rowCount * colCount\r\n      currentPage: 1,\r\n      pageSize: (this.rowCount * this.colCount),\r\n      total: 100,\r\n\r\n\r\n      // 该用户个人书架中的图书信息\r\n      booksData: [],\r\n\r\n      dataload: false\r\n    }\r\n  },\r\n    created() {\r\n        this.getUser();\r\n        if(this.user.id==0){\r\n          this.$message.error(\"请先登录\");\r\n          return;\r\n        }\r\n        this.getAllBooksData();\r\n    },\r\n    beforeMount() {\r\n    //this.getAllBooksData();\r\n  },\r\n  methods:{\r\n    getUser(){\r\n        const data = localStorage.getItem(\"loguserinfo\")?JSON.parse(localStorage.getItem(\"loguserinfo\")): {id:0}\r\n        if (data) {\r\n            this.user=data\r\n        }\r\n\r\n    },\r\n    handleSizeChange(val) {\r\n      console.log(`每页 ${val} 条`);\r\n      this.pageSize = val;\r\n    },\r\n    handleCurrentChange(val) {\r\n      console.log(`当前页: ${val}`);\r\n      this.currentPage = val;\r\n    },\r\n    getAllBooksData(){\r\n      this.request.get(\"/FrontBooks/bookself\",{\r\n          params:{\r\n              userid:this.user.id,\r\n              operator:\"isuploader\",   //填写需要获取的是收藏还是拥有的还是喜欢的\r\n              pageNum:this.currentPage,\r\n              pageSize:this.rowCount*this.rowCount\r\n          }\r\n      }).then(res => {\r\n        this.booksData = res.data;\r\n        console.log(this.booksData);\r\n        this.dataload = true;\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.header-with-background {\r\n  background-image: url('~@/assets/images/wooden.jpg');\r\n  background-size: cover;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BookShelf.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BookShelf.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BookShelf.vue?vue&type=template&id=0b8a09ea&scoped=true&\"\nimport script from \"./BookShelf.vue?vue&type=script&lang=js&\"\nexport * from \"./BookShelf.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BookShelf.vue?vue&type=style&index=0&id=0b8a09ea&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0b8a09ea\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","bookInfo","staticStyle","on","goToPreview","attrs","slot","_v","_s","bookname","description","download","staticClass","coverimage","_e","staticRenderFns","name","props","data","bookDetails","created","console","log","methods","url","window","open","component","_l","rowCount","row","index1","booksData","colCount","key","col","index2","dataload","currentPage","pageSize","total","handleSizeChange","handleCurrentChange","$event","components","bookFromShelf","getUser","user","id","getAllBooksData","$message","error","beforeMount","localStorage","getItem","JSON","parse","val","request","get","params","userid","operator","pageNum","then","res"],"sourceRoot":""}