{"version":3,"file":"js/66.6f929b1d.js","mappings":"6JAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,CAAC,MAAQ,SAAS,OAAS,cAAc,CAACJ,EAAIK,GAAIL,EAAIM,cAAc,SAASC,EAAKC,GAAG,OAAON,EAAG,MAAM,CAACO,IAAID,EAAEE,YAAY,6BAA6B,CAACR,EAAG,YAAY,CAACQ,YAAY,aAAaC,MAAM,CAAC,KAAO,GAAG,IAAMJ,EAAKK,aAAaV,EAAG,MAAM,CAACQ,YAAY,eAAe,CAACR,EAAG,OAAO,CAACQ,YAAY,eAAe,CAACV,EAAIa,GAAGb,EAAIc,GAAGP,EAAKQ,aAAab,EAAG,OAAO,CAACQ,YAAY,eAAe,CAACV,EAAIa,GAAGb,EAAIc,GAAGP,EAAKS,WAAWd,EAAG,MAAM,CAACQ,YAAY,YAAY,CAACR,EAAG,IAAI,CAACA,EAAG,OAAO,CAACQ,YAAY,SAAS,CAACV,EAAIa,GAAGb,EAAIc,GAAGP,EAAKU,cAAc,EAAE,IAAGf,EAAG,gBAAgB,CAACS,MAAM,CAAC,eAAeX,EAAIkB,QAAQ,aAAa,CAAC,EAAE,EAAE,GAAG,IAAI,YAAYlB,EAAImB,SAAS,OAAS,mCAAmC,MAAQnB,EAAIoB,OAAOC,GAAG,CAAC,cAAcrB,EAAIsB,iBAAiB,iBAAiBtB,EAAIuB,wBAAwB,EACh2B,EACIC,EAAkB,GC2BtB,GACAC,KAAA,WACAC,MAAA,CACAC,WAAA,IAEAC,OACA,OACAtB,aAAA,GACAc,MAAA,EACAF,QAAA,EACAC,SAAA,GACAU,UAAAC,EAAA,MAEA,EACAC,UACA,KAAAC,MACA,EACAC,QAAA,CACAD,OACA,KAAAE,QAAAC,IAAA,wBACAC,OAAA,CACAlB,QAAA,KAAAA,QACAC,SAAA,KAAAA,SACAkB,OAAA,KAAAV,WAAAU,UAEAC,MAAAC,IACA,QAAAA,EAAAC,OACA,KAAAlC,aAAAiC,EAAAX,KAAAa,QACA,KAAArB,MAAAmB,EAAAX,KAAAR,MACA,KAAAsB,MAAA,oBAAAtB,OAGA,GAGA,EACAE,iBAAAH,GACA,KAAAA,SAAAA,EACA,KAAAa,MACA,EACAT,oBAAAL,GACA,KAAAA,QAAAA,EACA,KAAAc,MACA,ICxEwP,I,UCQpPW,GAAY,OACd,EACA5C,EACAyB,GACA,EACA,KACA,WACA,MAIF,EAAemB,EAAiB,O,oECnBhC,IAAI5C,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAAEF,EAAI4C,YAAYC,SAAU3C,EAAG,MAAM,CAACQ,YAAY,oBAAoB,CAACR,EAAG,eAAe,CAACQ,YAAY,gBAAgB,CAACR,EAAG,UAAU,CAACA,EAAG,gBAAgB,CAACE,YAAY,CAAC,YAAY,OAAO,gBAAgB,QAAQO,MAAM,CAAC,kBAAkB,wBAAwB,CAACT,EAAG,qBAAqB,CAACE,YAAY,CAAC,MAAQ,OAAOO,MAAM,CAAC,GAAK,CAAEmC,KAAM,OAAQ,CAAC9C,EAAIa,GAAG,QAAQX,EAAG,qBAAqB,CAACF,EAAIa,GAAGb,EAAIc,GAAGd,EAAI4C,YAAYC,cAAc,GAAG3C,EAAG,SAAS,CAACQ,YAAY,YAAYC,MAAM,CAAC,QAAU,UAAU,CAACT,EAAG,SAAS,CAACQ,YAAY,aAAaC,MAAM,CAAC,GAAK,GAAG,GAAK,IAAI,CAACT,EAAG,MAAM,CAACA,EAAG,WAAW,CAACE,YAAY,CAAC,OAAS,QAAQO,MAAM,CAAC,IAAMX,EAAI4C,YAAYG,WAAW,IAAM,QAAQ,KAAO,OAAO,GAAG7C,EAAG,YAAY,CAACE,YAAY,CAAC,cAAc,MAAM,aAAa,MAAM,MAAQ,SAASO,MAAM,CAAC,KAAO,UAAU,KAAO,eAAe,MAAQ,IAAIU,GAAG,CAAC,MAAQrB,EAAIgD,cAAc,CAAChD,EAAIa,GAAG,QAAQX,EAAG,YAAY,CAACE,YAAY,CAAC,cAAc,MAAM,aAAa,MAAM,MAAQ,SAASO,MAAM,CAAC,KAAO,UAAU,KAAO,mBAAmB,MAAQ,IAAIU,GAAG,CAAC,MAAQrB,EAAIiD,YAAY,CAACjD,EAAIa,GAAG,SAAS,GAAGX,EAAG,SAAS,CAACQ,YAAY,YAAYC,MAAM,CAAC,GAAK,GAAG,GAAK,KAAK,CAACT,EAAG,SAAS,CAACQ,YAAY,cAAc,CAACR,EAAG,KAAK,CAACQ,YAAY,aAAaN,YAAY,CAAC,OAAS,MAAM,QAAU,QAAQ,CAACJ,EAAIa,GAAGb,EAAIc,GAAGd,EAAI4C,YAAYC,eAAe3C,EAAG,SAAS,CAACQ,YAAY,cAAc,CAACR,EAAG,IAAI,CAACQ,YAAY,eAAe,CAACR,EAAG,MAAMA,EAAG,OAAO,CAACQ,YAAY,SAASN,YAAY,CAAC,OAAS,WAAWO,MAAM,CAAC,MAAQ,cAAcU,GAAG,CAAC,MAAQ,SAAS6B,GAAQ,OAAOlD,EAAImD,sBAAsBnD,EAAI4C,YAAYQ,OAAO,IAAI,CAACpD,EAAIa,GAAG,MAAMb,EAAIc,GAAGd,EAAI4C,YAAYQ,eAAelD,EAAG,SAAS,CAACQ,YAAY,cAAc,CAACR,EAAG,MAAM,CAACE,YAAY,CAAC,YAAY,OAAO,QAAU,iBAAiB,CAACF,EAAG,aAAa,CAACS,MAAM,CAAC,UAAY,SAAS,MAAQ,MAAM,QAAU,UAAU,CAACT,EAAG,MAAM,CAACE,YAAY,CAAC,YAAY,OAAO,aAAa,WAAW,CAACJ,EAAIa,GAAG,qCAAqCX,EAAG,MAAM,CAACQ,YAAY,QAAQN,YAAY,CAAC,aAAa,WAAW,CAACF,EAAG,UAAU,CAACmB,GAAG,CAAC,OAASrB,EAAIqD,YAAYC,MAAM,CAACC,MAAOvD,EAAIwD,UAAWC,SAAS,SAAUC,GAAM1D,EAAIwD,UAAUE,CAAG,EAAEC,WAAW,gBAAgB,GAAGzD,EAAG,IAAI,CAACQ,YAAY,gBAAgBN,YAAY,CAAC,OAAS,WAAWO,MAAM,CAAC,KAAO,aAAaiD,KAAK,gBAAgB1D,EAAG,aAAa,CAACS,MAAM,CAAC,OAAS,OAAO,QAAU,YAAY,UAAY,WAAW,CAACT,EAAG,IAAI,CAACA,EAAG,OAAO,CAACQ,YAAY,8BAA8B,CAACV,EAAIa,GAAGb,EAAIc,GAAGd,EAAIwD,cAAcxD,EAAIa,GAAG,OAAOX,EAAG,OAAO,CAACQ,YAAY,6BAA6B,CAACV,EAAIa,GAAGb,EAAIc,GAAGd,EAAI6D,aAAa,YAAY,GAAG3D,EAAG,MAAM,CAACQ,YAAY,OAAON,YAAY,CAAC,QAAU,iBAAiB,CAACF,EAAG,aAAa,CAACS,MAAM,CAAC,QAAU,OAAO,CAACT,EAAG,YAAY,CAACQ,YAAY,0BAA0BN,YAAY,CAAC,OAAS,UAAU,YAAY,OAAO,eAAe,OAAOO,MAAM,CAAC,OAAS,IAAIU,GAAG,CAAC,MAAQrB,EAAI8D,gBAAgB,GAAG5D,EAAG,OAAO,CAACE,YAAY,CAAC,YAAY,OAAO,eAAe,SAAS,CAACJ,EAAIa,GAAGb,EAAIc,GAAGd,EAAI+D,cAAc,gBAAgB,GAAG7D,EAAG,aAAa,CAACS,MAAM,CAAC,QAAUX,EAAI4C,YAAYoB,YAAc,OAAS,OAAO,CAAC9D,EAAG,YAAY,CAACQ,YAAY,mBAAmBuD,MAAMjE,EAAI4C,YAAYsB,gBAAgBvD,MAAM,CAAC,OAAS,IAAIU,GAAG,CAAC,MAAQrB,EAAImE,eAAe,GAAGjE,EAAG,aAAa,CAACS,MAAM,CAAC,QAAUX,EAAI4C,YAAYwB,OAAS,OAAS,OAAO,CAAClE,EAAG,YAAY,CAACQ,YAAY,0BAA0BC,MAAM,CAAC,KAAO,gBAAgB,OAAS,IAAIU,GAAG,CAAC,MAAQrB,EAAIqE,YAAY,IAAI,GAAGnE,EAAG,SAAS,CAACS,MAAM,CAAC,QAAU,kBAAkB,CAACT,EAAG,IAAI,CAACQ,YAAY,eAAeN,YAAY,CAAC,aAAa,YAAY,CAACJ,EAAIa,GAAGb,EAAIc,GAAGd,EAAI4C,YAAY0B,kBAAkBpE,EAAG,SAAS,CAACQ,YAAY,SAASC,MAAM,CAAC,OAAS,KAAK,CAACT,EAAG,SAAS,CAACS,MAAM,CAAC,KAAO,IAAI,CAACT,EAAG,MAAM,CAACQ,YAAY,4BAA4B,CAACV,EAAIa,GAAG,WAAWX,EAAG,SAAS,CAACS,MAAM,CAAC,KAAO,IAAI,CAACT,EAAG,MAAM,CAACQ,YAAY,4BAA4B,CAACV,EAAIa,GAAGb,EAAIc,GAAGd,EAAI4C,YAAY2B,eAAerE,EAAG,SAAS,CAACS,MAAM,CAAC,KAAO,IAAI,CAACT,EAAG,MAAM,CAACQ,YAAY,4BAA4B,CAACV,EAAIa,GAAG,YAAYX,EAAG,SAAS,CAACS,MAAM,CAAC,KAAO,IAAI,CAACT,EAAG,MAAM,CAACQ,YAAY,4BAA4B,CAACV,EAAIa,GAAGb,EAAIc,GAAGd,EAAI4C,YAAY4B,iBAAiB,GAAGtE,EAAG,SAAS,CAACQ,YAAY,SAASC,MAAM,CAAC,OAAS,KAAK,CAACT,EAAG,SAAS,CAACS,MAAM,CAAC,KAAO,IAAI,CAACT,EAAG,MAAM,CAACQ,YAAY,4BAA4B,CAACV,EAAIa,GAAG,aAAaX,EAAG,SAAS,CAACS,MAAM,CAAC,KAAO,IAAI,CAACT,EAAG,MAAM,CAACQ,YAAY,4BAA4B,CAACV,EAAIa,GAAGb,EAAIc,GAAGd,EAAI4C,YAAY6B,WAAWvE,EAAG,SAAS,CAACS,MAAM,CAAC,KAAO,IAAI,CAACT,EAAG,MAAM,CAACQ,YAAY,4BAA4B,CAACV,EAAIa,GAAG,aAAaX,EAAG,SAAS,CAACS,MAAM,CAAC,KAAO,IAAI,CAACT,EAAG,MAAM,CAACQ,YAAY,4BAA4B,CAACV,EAAIa,GAAGb,EAAIc,GAAGd,EAAI4C,YAAY8B,YAAY,IAAI,IAAI,IAAI,GAAGxE,EAAG,YAAY,CAACA,EAAG,MAAM,CAACQ,YAAY,8BAA8BN,YAAY,CAAC,MAAQ,QAAQ,OAAS,cAAc,CAACF,EAAG,IAAI,CAACE,YAAY,CAAC,MAAQ,UAAU,cAAc,iBAAiB,YAAY,OAAO,cAAc,SAAS,CAACJ,EAAIa,GAAG,WAAWX,EAAG,MAAM,CAACE,YAAY,CAAC,MAAQ,QAAQ,OAAS,WAAW,CAACF,EAAG,WAAW,CAACyE,IAAI,WAAWvE,YAAY,CAAC,YAAY,QAAQO,MAAM,CAAC,KAAO,WAAW,KAAO,EAAE,YAAc,SAAS2C,MAAM,CAACC,MAAOvD,EAAI4E,SAAUnB,SAAS,SAAUC,GAAM1D,EAAI4E,SAASlB,CAAG,EAAEC,WAAW,cAAczD,EAAG,MAAM,CAACE,YAAY,CAAC,aAAa,QAAQ,OAAS,WAAW,CAACF,EAAG,YAAY,CAACS,MAAM,CAAC,KAAO,WAAWU,GAAG,CAAC,MAAQrB,EAAI6E,gBAAgB,CAAC7E,EAAIa,GAAG,SAAS,IAAI,GAAGX,EAAG,MAAM,CAACE,YAAY,CAAC,OAAS,cAAc,CAACF,EAAG,WAAW,CAACO,IAAIT,EAAI8E,WAAWnE,MAAM,CAAC,WAAaX,EAAI4C,aAAavB,GAAG,CAAC,eAAerB,EAAI+E,sBAAsB,MAAM,IAAI,GAAG/E,EAAIgF,MACx6K,EACIxD,EAAkB,G,oBC6HtB,GACAC,KAAA,cACAwD,WAAA,CACAC,SAAAA,EAAAA,YAEAnD,UACA,MAAAK,EAAA,KAAA+C,OAAAC,MAAAhD,OACA,GAAAA,EACA,IACA,KAAAQ,YAAAyC,KAAAC,MAAAlD,GACAmD,QAAAC,IAAA,YAAA5C,YACA,OAAA6C,GACAF,QAAAG,MAAA,UAAAD,EACA,MAEAF,QAAAI,KAAA,SAEA,KAAAC,kBACA,KAAAC,cACA,EACAjE,OACA,OACAgB,YAAA,GACAsB,gBAAA,mBACAV,UAAA,EACAK,aAAA,GACAe,SAAA,KACAkB,KAAAC,aAAAC,QAAA,eAAAX,KAAAC,MAAAS,aAAAC,QAAA,iBAAAC,GAAA,GACAnB,WAAA,EACAf,aAAA,GAEA,EACA9B,QAAA,CAEA6B,cACA,KAAAoC,MAAAC,SAAAC,IAAAC,eAAA,CAAAC,SAAA,UACA,EACAvB,kBAAAnD,GACA,KAAAmC,aAAAnC,CACA,EACAuC,aACA,QAAA2B,KAAAG,IAMA,KAAArD,YAAAoB,aAAA,KAAApB,YAAAoB,YACA,KAAApB,YAAAoB,aACA,KAAAuC,SAAAC,QAAA,QACA,KAAA5D,YAAAsB,gBAAA,kBAEA,KAAAhC,QAAAC,IAAA,4BACAC,OAAA,CACAC,OAAA,KAAAO,YAAAP,OACAoE,OAAA,KAAAX,KAAAG,MAEA3D,MAAAoE,IACAnB,QAAAC,IAAAkB,EAAA,IAEAnB,QAAAC,IAAA,QAEA,KAAAe,SAAAC,QAAA,QACA,KAAA5D,YAAAsB,gBAAA,mBAEA,KAAAhC,QAAAC,IAAA,4BACAC,OAAA,CACAC,OAAA,KAAAO,YAAAP,OACAoE,OAAA,KAAAX,KAAAG,MAEA3D,MAAAoE,IACAnB,QAAAC,IAAAkB,EAAA,IAEAnB,QAAAC,IAAA,UA/BA,KAAAe,SAAAb,MAAA,OAiCA,EACArB,UACA,SAAAyB,KAAAG,GAMA,KAAArD,YAAAwB,QAYA,KAAAmC,SAAAC,QAAA,UACA,KAAA5D,YAAAwB,QAAA,KAAAxB,YAAAwB,OACA,KAAAlC,QAAAC,IAAA,0BACAC,OAAA,CACAC,OAAA,KAAAO,YAAAP,OACAoE,OAAA,KAAAX,KAAAG,MAEA3D,MAAAoE,IACAnB,QAAAC,IAAAkB,EAAA,MAnBA,KAAAH,SAAAC,QAAA,QACA,KAAA5D,YAAAwB,QAAA,KAAAxB,YAAAwB,OACA,KAAAlC,QAAAC,IAAA,0BACAC,OAAA,CACAC,OAAA,KAAAO,YAAAP,OACAoE,OAAA,KAAAX,KAAAG,MAEA3D,MAAAoE,IACAnB,QAAAC,IAAAkB,EAAA,KAdA,KAAAH,SAAAb,MAAA,OA4BA,EACAvC,sBAAAC,GACA,KAAAuD,QAAAC,KAAA,CACA9D,KAAA,gBACAsC,MAAA,CAAAhD,OAAAiD,KAAAwB,UAAAzD,KAEA,EACAJ,cACA,IAAA8D,EAAA,KAAAlE,YAAAkE,IACAC,OAAAC,KAAA,iDAAAF,EAAA,YACA,EACAjC,gBACA,SAAAiB,KAAAG,GACA,KAAAM,SAAAb,MAAA,cAEA,KAAAxD,QAAAC,IAAA,yBACAC,OAAA,CACAqE,OAAA,KAAAX,KAAAG,GACA5D,OAAA,KAAAO,YAAAP,OACApB,KAAA,KAAA2D,YAEAtC,MAAAC,IACA,QAAAA,EAAAC,MACA,KAAA+D,SAAAC,QAAA,QACA,KAAA1B,cAEA,KAAAyB,SAAAb,MAAA,aACA,GAEA,EACAzC,YACA,SAAA6C,KAAAG,GAKA,KAAA/D,QAAAC,IAAA,uBACAC,OAAA,CACAC,OAAA,KAAAO,YAAAP,OACAoE,OAAA,KAAAX,KAAAG,MAEA3D,MAAAC,IACA,QAAAA,EAAAC,MACAuE,OAAAC,KAAA,qDAAApE,YAAAkE,OASA,KAAAP,SAAAC,QAAA,SAEA,QAAAjE,EAAAC,KACA,KAAA+D,SAAAb,MAAA,aAEA,OAAAnD,EAAAC,OACAuE,OAAAC,KAAA,qDAAApE,YAAAkE,OASA,KAAAP,SAAAC,QAAA,QACA,IApCA,KAAAD,SAAAb,MAAA,OAwCA,EACAE,kBACA,KAAA1D,QAAAC,IAAA,2BACAC,OAAA,CACAC,OAAA,KAAAO,YAAAP,UAEAC,MAAAC,IACA,MAAAA,EAAAX,KACA,KAAAiC,aAAA,IAEA,KAAAA,aAAAtB,EAAAX,KAEA2D,QAAAC,IAAA,KAAA3B,aAAA,GAEA,EACAgC,eACA,KAAA3D,QAAAC,IAAA,wBACAC,OAAA,CACAC,OAAA,KAAAO,YAAAP,OACAoE,OAAA,KAAAX,KAAAG,MAEA3D,MAAAC,IACA,QAAAA,EAAAC,KACA,KAAAgB,UAAAjB,EAAAX,KAAAqF,MAGA,KAAAzD,UAAA,CACA,GAEA,EACAH,aACA,SAAAyC,KAAAG,GACA,KAAAM,SAAAb,MAAA,cAEA,KAAAxD,QAAAC,IAAA,qBACAC,OAAA,CACAqE,OAAA,KAAAX,KAAAG,GACA5D,OAAA,KAAAO,YAAAP,OACA4E,MAAA,KAAAzD,aAEAlB,MAAAC,IACA,KAAAsB,aAAAtB,EAAAX,KACA2D,QAAAC,IAAA,KAAA3B,aAAA,GAGA,IC9VoQ,I,UCQhQlB,GAAY,OACd,EACA5C,EACAyB,GACA,EACA,KACA,WACA,MAIF,EAAemB,EAAiB,O","sources":["webpack://frontdesk/./src/components/comments.vue","webpack://frontdesk/src/components/comments.vue","webpack://frontdesk/./src/components/comments.vue?c674","webpack://frontdesk/./src/components/comments.vue?5e19","webpack://frontdesk/./src/views/Books/BookDetails.vue","webpack://frontdesk/src/views/Books/BookDetails.vue","webpack://frontdesk/./src/views/Books/BookDetails.vue?b3b9","webpack://frontdesk/./src/views/Books/BookDetails.vue?ab8d"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticStyle:{\"width\":\"1000px\",\"margin\":\"16px auto\"}},[_vm._l((_vm.commentsList),function(item,i){return _c('div',{key:i,staticClass:\"author-title reply-father\"},[_c('el-avatar',{staticClass:\"header-img\",attrs:{\"size\":40,\"src\":item.avatarurl}}),_c('div',{staticClass:\"author-info\"},[_c('span',{staticClass:\"author-name\"},[_vm._v(_vm._s(item.username))]),_c('span',{staticClass:\"author-time\"},[_vm._v(_vm._s(item.time))])]),_c('div',{staticClass:\"talk-box\"},[_c('p',[_c('span',{staticClass:\"reply\"},[_vm._v(_vm._s(item.text))])])])],1)}),_c('el-pagination',{attrs:{\"current-page\":_vm.pageNum,\"page-sizes\":[2,5,10,20],\"page-size\":_vm.pageSize,\"layout\":\"total, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div style=\"width: 1000px; margin:16px auto\">\r\n    <div v-for=\"(item,i) in commentsList\" :key=\"i\" class=\"author-title reply-father\">\r\n      <el-avatar class=\"header-img\" :size=\"40\" :src=\"item.avatarurl\"></el-avatar>\r\n      <div class=\"author-info\">\r\n        <span class=\"author-name\">{{item.username}}</span>\r\n        <span class=\"author-time\">{{item.time}}</span>\r\n      </div>\r\n      <div class=\"talk-box\">\r\n        <p>\r\n          <span class=\"reply\">{{item.text}}</span>\r\n        </p>\r\n      </div>\r\n    </div>\r\n\r\n    <el-pagination\r\n        @size-change=\"handleSizeChange\"\r\n        @current-change=\"handleCurrentChange\"\r\n        :current-page=\"pageNum\"\r\n        :page-sizes=\"[2,5,10,20]\"\r\n        :page-size=\"pageSize\"\r\n        layout=\"total, prev, pager, next, jumper\"\r\n        :total=\"total\">\r\n    </el-pagination>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default  {\r\n  name: \"comments\",\r\n  props:{\r\n    bookDetail:{}\r\n  },\r\n  data(){\r\n    return{\r\n      commentsList:[],\r\n      total: 0,\r\n      pageNum: 1,\r\n      pageSize: 10,\r\n      imagesurl: require(\"../assets/images/cutcamera.png\")\r\n    }\r\n  },\r\n  created() {\r\n    this.load()\r\n  },\r\n  methods:{\r\n    load(){\r\n      this.request.get(\"/commits/findcommits\",{\r\n        params:{\r\n          pageNum:this.pageNum,\r\n          pageSize:this.pageSize,\r\n          bookid:this.bookDetail.bookid\r\n        }\r\n      }).then(res=>{\r\n        if(res.code==='200'){\r\n          this.commentsList=res.data.records           //根据后台数据更改\r\n          this.total=res.data.total\r\n          this.$emit('custom-event',this.total)\r\n          // this.$message.success(\"获取评论成功\")\r\n        }else {\r\n          // this.$message.error(\"获取失败！\")\r\n        }\r\n      })\r\n    },\r\n    handleSizeChange(pageSize){\r\n      this.pageSize=pageSize\r\n      this.load()\r\n    },\r\n    handleCurrentChange(pageNum){\r\n      this.pageNum=pageNum\r\n      this.load()\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n.author-title:not(:last-child) {\r\n   border-bottom: 1px solid rgba(178, 186, 194, 0.3);\r\n}\r\n\r\n.author-title {\r\n  padding: 10px;\r\n  text-align: left;\r\n  .header-img {\r\n    display: inline-block;\r\n    vertical-align: top;\r\n  }\r\n\r\n  .author-info {\r\n    display: inline-block;\r\n    margin-left: 5px;\r\n    width: 60%;\r\n    height: 50px;\r\n    line-height: 20px;\r\n\r\n    > span {\r\n      display: block;\r\n      cursor: pointer;\r\n      overflow: hidden;\r\n      white-space: nowrap;\r\n      text-overflow: ellipsis;\r\n    }\r\n\r\n    .author-name {\r\n      color: #000;\r\n      font-size: 18px;\r\n      font-weight: bold;\r\n      width: 10%;\r\n    }\r\n\r\n    .author-time {\r\n      font-size: 14px;\r\n      width: 25%;\r\n    }\r\n  }\r\n}\r\n\r\n.talk-box {\r\n  margin: 0 50px;\r\n  text-align: left;\r\n  > p {\r\n    margin: 0;\r\n  }\r\n\r\n  .reply {\r\n    font-size: 16px;\r\n    color: #000;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./comments.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./comments.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./comments.vue?vue&type=template&id=a7a630ce&scoped=true&\"\nimport script from \"./comments.vue?vue&type=script&lang=js&\"\nexport * from \"./comments.vue?vue&type=script&lang=js&\"\nimport style0 from \"./comments.vue?vue&type=style&index=0&id=a7a630ce&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a7a630ce\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[(_vm.bookDetails.bookname)?_c('div',{staticClass:\"parent-container\"},[_c('el-container',{staticClass:\"el-container\"},[_c('el-main',[_c('el-breadcrumb',{staticStyle:{\"font-size\":\"20px\",\"margin-bottom\":\"20px\"},attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{staticStyle:{\"color\":\"red\"},attrs:{\"to\":{ path: '/' }}},[_vm._v(\"主页\")]),_c('el-breadcrumb-item',[_vm._v(_vm._s(_vm.bookDetails.bookname))])],1),_c('el-row',{staticClass:\"book-card\",attrs:{\"book_id\":6138195}},[_c('el-col',{staticClass:\"book-cover\",attrs:{\"xs\":24,\"sm\":6}},[_c('div',[_c('el-image',{staticStyle:{\"height\":\"26pc\"},attrs:{\"src\":_vm.bookDetails.coverimage,\"fit\":\"cover\",\"lazy\":\"\"}})],1),_c('el-button',{staticStyle:{\"margin-left\":\"0px\",\"margin-top\":\"5px\",\"width\":\"340px\"},attrs:{\"type\":\"success\",\"icon\":\"el-icon-view\",\"plain\":\"\"},on:{\"click\":_vm.previewBook}},[_vm._v(\"预览\")]),_c('el-button',{staticStyle:{\"margin-left\":\"0px\",\"margin-top\":\"5px\",\"width\":\"340px\"},attrs:{\"type\":\"primary\",\"icon\":\"el-icon-download\",\"plain\":\"\"},on:{\"click\":_vm.downloads}},[_vm._v(\"下载\")])],1),_c('el-col',{staticClass:\"book-info\",attrs:{\"xs\":24,\"sm\":18}},[_c('el-row',{staticClass:\"align-left\"},[_c('h4',{staticClass:\"book-title\",staticStyle:{\"margin\":\"0px\",\"padding\":\"0px\"}},[_vm._v(_vm._s(_vm.bookDetails.bookname))])]),_c('el-row',{staticClass:\"align-left\"},[_c('i',{staticClass:\"book-author\"},[_c('br'),_c('span',{staticClass:\"color1\",staticStyle:{\"cursor\":\"pointer\"},attrs:{\"title\":\"找到该作者的所有书籍\"},on:{\"click\":function($event){return _vm.redirectToAuthorBooks(_vm.bookDetails.author)}}},[_vm._v(\"作者:\"+_vm._s(_vm.bookDetails.author))])])]),_c('el-row',{staticClass:\"align-left\"},[_c('div',{staticStyle:{\"font-size\":\"20px\",\"display\":\"inline-block\"}},[_c('el-popover',{attrs:{\"placement\":\"bottom\",\"width\":\"230\",\"trigger\":\"click\"}},[_c('div',{staticStyle:{\"font-size\":\"12px\",\"text-align\":\"center\"}},[_vm._v(\"-----------你有多喜欢这本书？-----------\")]),_c('div',{staticClass:\"block\",staticStyle:{\"text-align\":\"center\"}},[_c('el-rate',{on:{\"change\":_vm.rateChange},model:{value:(_vm.bookValue),callback:function ($$v) {_vm.bookValue=$$v},expression:\"bookValue\"}})],1),_c('i',{staticClass:\"el-icon-medal\",staticStyle:{\"cursor\":\"pointer\"},attrs:{\"slot\":\"reference\"},slot:\"reference\"})]),_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"content\":\"图书评级/图书总评\",\"placement\":\"bottom\"}},[_c('i',[_c('span',{staticClass:\"book-rating-interest-score\"},[_vm._v(_vm._s(_vm.bookValue))]),_vm._v(\" / \"),_c('span',{staticClass:\"book-rating-quality-score\"},[_vm._v(_vm._s(_vm.bookAvgValue[0]))])])])],1),_c('div',{staticClass:\"ml-5\",staticStyle:{\"display\":\"inline-block\"}},[_c('el-tooltip',{attrs:{\"content\":\"评论\"}},[_c('el-button',{staticClass:\"el-icon-chat-dot-square\",staticStyle:{\"cursor\":\"pointer\",\"font-size\":\"15px\",\"margin-right\":\"5px\"},attrs:{\"circle\":\"\"},on:{\"click\":_vm.jumpToInput}})],1),_c('span',{staticStyle:{\"font-size\":\"20px\",\"margin-right\":\"15px\"}},[_vm._v(_vm._s(_vm.commentcount)+\" comments\")])],1),_c('el-tooltip',{attrs:{\"content\":_vm.bookDetails.isCollected ? '取消收藏' : '收藏'}},[_c('el-button',{staticClass:\"book-add-to-list\",class:_vm.bookDetails.collectBtnClass,attrs:{\"circle\":\"\"},on:{\"click\":_vm.collectBtn}})],1),_c('el-tooltip',{attrs:{\"content\":_vm.bookDetails.islike ? '取消点赞' : '点赞'}},[_c('el-button',{staticClass:\"book-thank-contributors\",attrs:{\"icon\":\"el-icon-thumb\",\"circle\":\"\"},on:{\"click\":_vm.likeBtn}})],1)],1),_c('el-row',{attrs:{\"justify\":\"space-between\"}},[_c('p',{staticClass:\"grid-content\",staticStyle:{\"text-align\":\"justify\"}},[_vm._v(_vm._s(_vm.bookDetails.description))])]),_c('el-row',{staticClass:\"row-bg\",attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":2}},[_c('div',{staticClass:\"grid-content col-content\"},[_vm._v(\"种类:\")])]),_c('el-col',{attrs:{\"span\":6}},[_c('div',{staticClass:\"grid-content col-content\"},[_vm._v(_vm._s(_vm.bookDetails.category))])]),_c('el-col',{attrs:{\"span\":2}},[_c('div',{staticClass:\"grid-content col-content\"},[_vm._v(\"出版社：\")])]),_c('el-col',{attrs:{\"span\":6}},[_c('div',{staticClass:\"grid-content col-content\"},[_vm._v(_vm._s(_vm.bookDetails.publisher))])])],1),_c('el-row',{staticClass:\"row-bg\",attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":2}},[_c('div',{staticClass:\"grid-content col-content\"},[_vm._v(\"文件类型:\")])]),_c('el-col',{attrs:{\"span\":6}},[_c('div',{staticClass:\"grid-content col-content\"},[_vm._v(_vm._s(_vm.bookDetails.type))])]),_c('el-col',{attrs:{\"span\":2}},[_c('div',{staticClass:\"grid-content col-content\"},[_vm._v(\"ISBN:\")])]),_c('el-col',{attrs:{\"span\":6}},[_c('div',{staticClass:\"grid-content col-content\"},[_vm._v(_vm._s(_vm.bookDetails.isbn))])])],1)],1)],1)],1),_c('el-footer',[_c('div',{staticClass:\"grid-content bg-purple-dark\",staticStyle:{\"width\":\"900px\",\"margin\":\"10px auto\"}},[_c('p',{staticStyle:{\"color\":\"#f9fafc\",\"font-family\":\"'Arial Narrow'\",\"font-size\":\"25px\",\"margin-left\":\"10px\"}},[_vm._v(\"评论：\")])]),_c('div',{staticStyle:{\"width\":\"700px\",\"margin\":\"0 auto\"}},[_c('el-input',{ref:\"inputRef\",staticStyle:{\"font-size\":\"20px\"},attrs:{\"type\":\"textarea\",\"rows\":2,\"placeholder\":\"请输入内容\"},model:{value:(_vm.textarea),callback:function ($$v) {_vm.textarea=$$v},expression:\"textarea\"}}),_c('div',{staticStyle:{\"text-align\":\"right\",\"margin\":\"10px 0\"}},[_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":_vm.submitComment}},[_vm._v(\"提交\")])],1)],1),_c('div',{staticStyle:{\"margin\":\"10px auto\"}},[_c('comments',{key:_vm.commentKey,attrs:{\"bookDetail\":_vm.bookDetails},on:{\"custom-event\":_vm.handleCustomEvent}})],1)])],1)],1):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n  <!-- 这里显示图书的详细信息-->\r\n  <!--  1. 图书的封面；\r\n        2. 图书的详细介绍（这里设置为用户提交图书的时候填写的内容）；\r\n        3. 图书的下载量和收藏量；\r\n        4. 关于图书本身的详细信息（即图书的名字、语言、还有文件大小、出版社、页数等等）；\r\n        5. 下面是关于本书的留言评价，这些数据存放在数据库当中；\r\n        6. 最下面是提供一个评论的入口，用户可以在这里提交自己的评价；\r\n    -->\r\n    <div class=\"parent-container\"  v-if=\"bookDetails.bookname\">\r\n      <el-container class=\"el-container\">\r\n\r\n      <el-main>\r\n        <el-breadcrumb separator-class=\"el-icon-arrow-right\" style=\"font-size: 20px;margin-bottom: 20px\">\r\n          <el-breadcrumb-item :to=\"{ path: '/' }\" style=\"color: red;\">主页</el-breadcrumb-item>\r\n          <el-breadcrumb-item>{{ bookDetails.bookname }}</el-breadcrumb-item>\r\n        </el-breadcrumb>\r\n        <el-row class=\"book-card\" :book_id=\"6138195\">\r\n          <el-col :xs=\"24\" :sm=\"6\" class=\"book-cover\" >\r\n            <div >\r\n              <el-image :src=\"bookDetails.coverimage\" fit=\"cover\" lazy style=\"height: 26pc;\"/>\r\n            </div>\r\n            <el-button type=\"success\" icon=\"el-icon-view\" plain style=\"margin-left: 0px;margin-top: 5px;width: 340px\" @click=\"previewBook\">预览</el-button>\r\n            <el-button type=\"primary\" icon=\"el-icon-download\" plain style=\"margin-left: 0px;margin-top: 5px;width: 340px\" @click=\"downloads\">下载</el-button>\r\n          </el-col>\r\n          <el-col :xs=\"24\" :sm=\"18\" class=\"book-info\">\r\n            <el-row class=\"align-left\">\r\n              <h4 class=\"book-title\" style=\"margin: 0px;padding: 0px;\">{{ bookDetails.bookname }}</h4>\r\n            </el-row>\r\n            <el-row class=\"align-left\">\r\n              <i class=\"book-author\">\r\n<!--                <span class=\"color1\" style=\"margin-left: -60px\">{{ bookDetails.name }}</span>-->\r\n                <br>\r\n                <span @click=\"redirectToAuthorBooks(bookDetails.author)\" title=\"找到该作者的所有书籍\" class=\"color1\" style=\"cursor: pointer\">作者:{{ bookDetails.author }}</span>\r\n              </i>\r\n            </el-row>\r\n            <el-row class=\"align-left\">\r\n                <div style=\"font-size: 20px;display: inline-block\">\r\n                    <el-popover\r\n                        placement=\"bottom\"\r\n                        width=\"230\"\r\n                        trigger=\"click\">\r\n                      <div style=\"font-size: 12px;text-align: center\">-----------你有多喜欢这本书？-----------</div>\r\n                      <div class=\"block\" style=\"text-align: center\">\r\n\r\n                        <el-rate v-model=\"bookValue\" @change=\"rateChange\"></el-rate>\r\n                      </div>\r\n                      <i class=\"el-icon-medal\" slot=\"reference\" style=\"cursor: pointer\"></i>\r\n                    </el-popover>\r\n                  <el-tooltip effect=\"dark\" content=\"图书评级/图书总评\" placement=\"bottom\">\r\n                    <i>\r\n                      <span class=\"book-rating-interest-score\">{{ bookValue }}</span> /\r\n                      <span class=\"book-rating-quality-score\">{{ bookAvgValue[0] }}</span>\r\n                    </i>\r\n                  </el-tooltip>\r\n                </div>\r\n\r\n              <div style=\"display: inline-block\" class=\"ml-5\">\r\n                <el-tooltip content=\"评论\">\r\n                  <el-button @click=\"jumpToInput\" class=\"el-icon-chat-dot-square\" circle style=\"cursor: pointer;font-size: 15px;margin-right: 5px\"></el-button>\r\n                </el-tooltip>\r\n                  <span style=\"font-size: 20px;margin-right: 15px\">{{commentcount}} comments</span>\r\n              </div>\r\n\r\n              <el-tooltip :content=\"bookDetails.isCollected ? '取消收藏' : '收藏' \">\r\n                <el-button class=\"book-add-to-list\" :class=\"bookDetails.collectBtnClass\" circle @click=\"collectBtn\" />\r\n              </el-tooltip>\r\n                <el-tooltip :content=\"bookDetails.islike ? '取消点赞' : '点赞' \">\r\n                <el-button class=\"book-thank-contributors\" icon=\"el-icon-thumb\" circle @click=\"likeBtn\"/>\r\n              </el-tooltip>\r\n            </el-row>\r\n\r\n            <el-row justify=\"space-between\">\r\n              <p class=\"grid-content\" style=\"text-align: justify\">{{bookDetails.description}}</p>\r\n            </el-row>\r\n\r\n\r\n            <el-row :gutter=\"20\"  class=\"row-bg\">\r\n              <el-col :span=\"2\" ><div class=\"grid-content col-content\" >种类:</div></el-col>\r\n              <el-col :span=\"6\" ><div class=\"grid-content col-content\" >{{bookDetails.category}}</div></el-col>\r\n              <el-col :span=\"2\" ><div class=\"grid-content col-content\">出版社：</div></el-col>\r\n              <el-col :span=\"6\" ><div class=\"grid-content col-content\">{{bookDetails.publisher}}</div></el-col>\r\n            </el-row>\r\n            <el-row :gutter=\"20\"  class=\"row-bg\" >\r\n              <el-col :span=\"2\"><div class=\"grid-content col-content\">文件类型:</div></el-col>\r\n              <el-col :span=\"6\"><div class=\"grid-content col-content\">{{bookDetails.type}}</div></el-col>\r\n              <el-col :span=\"2\"><div class=\"grid-content col-content\">ISBN:</div></el-col>\r\n              <el-col :span=\"6\"><div class=\"grid-content col-content\">{{bookDetails.isbn}}</div></el-col>\r\n            </el-row>\r\n          </el-col>\r\n        </el-row>\r\n      </el-main>\r\n      <el-footer>\r\n\r\n\r\n        <div class=\"grid-content bg-purple-dark\" style=\"width: 900px; margin:10px auto\">\r\n          <p  style=\"color: #f9fafc; font-family: 'Arial Narrow'; font-size: 25px;margin-left: 10px\">评论：</p>\r\n        </div>\r\n\r\n        <div style=\"width: 700px;margin: 0 auto\">\r\n          <el-input\r\n              ref=\"inputRef\"\r\n              type=\"textarea\"\r\n              :rows=\"2\"\r\n              placeholder=\"请输入内容\"\r\n              style=\"font-size: 20px\"\r\n              v-model=\"textarea\">\r\n          </el-input>\r\n          <div style=\"text-align: right;margin: 10px 0\">\r\n              <el-button type=\"success\" @click=\"submitComment\">提交</el-button>\r\n          </div>\r\n        </div>\r\n\r\n        <div style=\"margin: 10px auto\">\r\n          <comments :bookDetail=\"bookDetails\" :key=\"commentKey\" @custom-event=\"handleCustomEvent\"></comments>\r\n        </div>\r\n      </el-footer>\r\n    </el-container>\r\n\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport comments from \"@/components/comments.vue\";\r\n\r\nexport default {\r\n  name: \"BookDetails\",\r\n  components:{\r\n    comments\r\n  },\r\n  created() {\r\n    const params = this.$route.query.params;\r\n    if (params) {\r\n      try {\r\n        this.bookDetails = JSON.parse(params);\r\n        console.log('数据是：', this.bookDetails);\r\n      } catch (e) {\r\n        console.error('解析参数出错：', e);\r\n      }\r\n    } else {\r\n      console.warn('未找到参数');\r\n    }\r\n    this.getBookAvgScore();\r\n    this.getBookScore();\r\n  },\r\n  data() {\r\n    return {\r\n      bookDetails: {},\r\n      collectBtnClass:\"el-icon-star-off\",\r\n      bookValue:0,\r\n      bookAvgValue: [],\r\n      textarea:null,\r\n      user:localStorage.getItem(\"loguserinfo\")?JSON.parse(localStorage.getItem(\"loguserinfo\")): {id:0},\r\n      commentKey:0,//用于重新渲染评论子组件\r\n      commentcount:\"\"\r\n    }\r\n  },\r\n  methods:{\r\n\r\n    jumpToInput() {\r\n      this.$refs.inputRef.$el.scrollIntoView({ behavior: 'smooth' });\r\n    },\r\n    handleCustomEvent(data){\r\n      this.commentcount=data;\r\n    },\r\n    collectBtn(){//收藏\r\n      if(this.user.id==0){\r\n        this.$message.error(\"请先登录\");\r\n        return;\r\n      }\r\n\r\n\r\n      this.bookDetails.isCollected=!this.bookDetails.isCollected\r\n      if(this.bookDetails.isCollected){\r\n        this.$message.success('收藏成功');\r\n        this.bookDetails.collectBtnClass=\"el-icon-star-on\";\r\n\r\n        this.request.get(\"/relationship/favourbook\", {\r\n          params:{\r\n            bookid: this.bookDetails.bookid,\r\n            userid: this.user.id\r\n          }\r\n        }).then(response => {\r\n          console.log(response);\r\n        })\r\n        console.log(\"收藏\");\r\n      }else{  //取消收藏\r\n        this.$message.success('取消成功');\r\n        this.bookDetails.collectBtnClass=\"el-icon-star-off\";\r\n\r\n        this.request.get(\"/relationship/favourbook\", {\r\n          params:{\r\n            bookid: this.bookDetails.bookid,\r\n            userid: this.user.id\r\n          }\r\n        }).then(response => {\r\n          console.log(response);\r\n        })\r\n        console.log(\"取消收藏\");\r\n      }\r\n    },\r\n    likeBtn(){\r\n      if(this.user.id===0){\r\n        this.$message.error(\"请先登录\");\r\n        return;\r\n      }\r\n\r\n\r\n      if(!this.bookDetails.islike){//如果没有点赞\r\n        this.$message.success('点赞成功');\r\n        this.bookDetails.islike=!this.bookDetails.islike\r\n        this.request.get(\"/relationship/likebook\", {\r\n          params:{\r\n            bookid: this.bookDetails.bookid,\r\n            userid: this.user.id\r\n          }\r\n        }).then(response => {\r\n          console.log(response);\r\n        })\r\n      }else{  //已经点赞过了\r\n        this.$message.success( '取消点赞成功');\r\n        this.bookDetails.islike=!this.bookDetails.islike\r\n        this.request.get(\"/relationship/likebook\", {\r\n          params:{\r\n            bookid: this.bookDetails.bookid,\r\n            userid: this.user.id\r\n          }\r\n        }).then(response => {\r\n          console.log(response);\r\n        })\r\n      }\r\n    },\r\n    redirectToAuthorBooks(author){          //将作者作为参数跳转到 找到作者的所有书籍 页面\r\n      this.$router.push({\r\n        path:'/searchResult',\r\n        query:{params:JSON.stringify(author)}\r\n      })\r\n    },\r\n    previewBook(){\r\n      let url = this.bookDetails.url;\r\n      window.open(`/lib/pdfjs-3.5.141-dist/web/viewer.html?file=${url+'/preview'}`);\r\n    },\r\n    submitComment(){\r\n      if(this.user.id===0) {\r\n        this.$message.error(\"评论失败，请先登录！\")\r\n      }else {\r\n      this.request.get(\"/commits/mankecommits\",{\r\n          params:{\r\n            userid:this.user.id,\r\n            bookid:this.bookDetails.bookid,\r\n            text:this.textarea\r\n          }\r\n        }).then(res=>{\r\n          if(res.code==='200'){\r\n            this.$message.success(\"评论成功\")\r\n            this.commentKey++     //改变值重新渲染子组件\r\n          }else {\r\n            this.$message.error(\"评论失败，请先登录！\")\r\n          }\r\n        })\r\n      }},\r\n    downloads(){\r\n      if(this.user.id===0){\r\n        this.$message.error(\"请先登录\");\r\n        return;\r\n      }\r\n      else {\r\n        this.request.get(\"/users/pointbuybook\",{\r\n          params: {\r\n            bookid:this.bookDetails.bookid,\r\n            userid:this.user.id\r\n          }\r\n        }).then(res=>{\r\n          if(res.code==='200'){\r\n            window.open(`/lib/pdfjs-3.5.141-dist/web/viewer.html?file=${this.bookDetails.url}`);\r\n            // this.$router.push('/pdf');\r\n            // this.$router.push({\r\n            //   name:'pdf',\r\n            //   params:{\r\n            //     url:this.bookDetails.url\r\n            //   }\r\n            // });\r\n            // window.open(this.bookDetails.url);\r\n            this.$message.success(\"下载成功\")\r\n            //location.reload()\r\n          }else if(res.code==='600'){\r\n            this.$message.error(\"积分不足，下载失败\")\r\n          }\r\n          else if (res.code ==='10'){\r\n            window.open(`/lib/pdfjs-3.5.141-dist/web/viewer.html?file=${this.bookDetails.url}`);\r\n            // this.$router.push('/pdf');\r\n            // this.$router.push({\r\n            //   name:'pdf',\r\n            //   params:{\r\n            //     url:this.bookDetails.url\r\n            //   }\r\n            // });\r\n            // window.open(this.bookDetails.url);\r\n            this.$message.success(\"下载成功\")\r\n          }\r\n        })\r\n      }\r\n\r\n    },\r\n    getBookAvgScore(){\r\n        this.request.get(\"/FrontBooks/GetAvgScore\",{\r\n            params:{\r\n                bookid:this.bookDetails.bookid\r\n            }\r\n        }).then(res=> {\r\n          if(res.data==null){\r\n            this.bookAvgValue=[0]\r\n          }else{\r\n            this.bookAvgValue=res.data;\r\n          }\r\n          console.log(this.bookAvgValue)\r\n        })\r\n    },\r\n    getBookScore(){\r\n      this.request.get(\"/FrontBooks/getscore\",{\r\n        params:{\r\n          bookid:this.bookDetails.bookid,\r\n          userid:this.user.id\r\n        }\r\n      }).then(res=> {\r\n        if(res.code==='200'){\r\n          this.bookValue=res.data.score;\r\n        }\r\n        else{\r\n          this.bookValue=0;\r\n        }\r\n      })\r\n    },\r\n    rateChange(){\r\n        if(this.user.id===0) {\r\n            this.$message.error(\"评分失败，请先登录！\")\r\n        }else {\r\n            this.request.get(\"/FrontBooks/score\",{\r\n                params:{\r\n                    userid:this.user.id,\r\n                    bookid:this.bookDetails.bookid,\r\n                    score:this.bookValue\r\n                }\r\n        }).then(res=> {\r\n              this.bookAvgValue=res.data;\r\n              console.log(this.bookAvgValue)\r\n        })\r\n      }\r\n    }\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.parent-container {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 80vh; /* 设置高度以垂直居中容器 */\r\n}\r\n\r\n.el-container {\r\n  transform: scale(0.8); /* 缩小容器 */\r\n}\r\n\r\n.book-title{\r\n  font-size: 40px;\r\n}\r\n\r\n.align-left {\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  align-items: center;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n\r\n.ml-5{\r\n  margin-left: 25px;\r\n}\r\n\r\n.book-rating-detail .book-comments-info {\r\n  display: inline-block;\r\n  padding-left: 24px;\r\n  cursor: pointer;\r\n}\r\n\r\n.el-col {\r\n  border-radius: 4px;\r\n}\r\n.bg-purple-dark {\r\n  background: #99a9bf;\r\n}\r\n.bg-purple {\r\n  background: #d3dce6;\r\n}\r\n.bg-purple-light {\r\n  background: #e5e9f2;\r\n}\r\n.grid-content {\r\n  text-align: left;\r\n  margin-left: 0px;\r\n  border-radius: 4px;\r\n  min-height: 36px;\r\n}\r\n\r\n.col-content{\r\n  height: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-start;\r\n}\r\n\r\n.row-bg {\r\n  padding: 0px 0px;\r\n  background-color: #f9fafc;\r\n}\r\n\r\n.color1 {\r\n  font-size: 20px;\r\n  color: #49afd0;\r\n}\r\n.book-rating-interest-score{\r\n  color: #FAAD14;\r\n}\r\n.book-rating-quality-score{\r\n  color: #5CB85C;\r\n}\r\ndiv {\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BookDetails.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BookDetails.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BookDetails.vue?vue&type=template&id=2640a98b&scoped=true&\"\nimport script from \"./BookDetails.vue?vue&type=script&lang=js&\"\nexport * from \"./BookDetails.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BookDetails.vue?vue&type=style&index=0&id=2640a98b&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2640a98b\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticStyle","_l","commentsList","item","i","key","staticClass","attrs","avatarurl","_v","_s","username","time","text","pageNum","pageSize","total","on","handleSizeChange","handleCurrentChange","staticRenderFns","name","props","bookDetail","data","imagesurl","require","created","load","methods","request","get","params","bookid","then","res","code","records","$emit","component","bookDetails","bookname","path","coverimage","previewBook","downloads","$event","redirectToAuthorBooks","author","rateChange","model","value","bookValue","callback","$$v","expression","slot","bookAvgValue","jumpToInput","commentcount","isCollected","class","collectBtnClass","collectBtn","islike","likeBtn","description","category","publisher","type","isbn","ref","textarea","submitComment","commentKey","handleCustomEvent","_e","components","comments","$route","query","JSON","parse","console","log","e","error","warn","getBookAvgScore","getBookScore","user","localStorage","getItem","id","$refs","inputRef","$el","scrollIntoView","behavior","$message","success","userid","response","$router","push","stringify","url","window","open","score"],"sourceRoot":""}