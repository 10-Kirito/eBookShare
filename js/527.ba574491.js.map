{"version":3,"file":"js/527.ba574491.js","mappings":"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","sources":["webpack://frontdesk/./src/views/shop/Orders.vue","webpack://frontdesk/src/views/shop/Orders.vue","webpack://frontdesk/./src/views/shop/Orders.vue?ae7c","webpack://frontdesk/./src/views/shop/Orders.vue?6fdc"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticStyle:{\"width\":\"1100px\",\"margin-left\":\"-50px\"}},[_c('div',{staticStyle:{\"margin\":\"10px 0\"}},[_c('el-input',{staticStyle:{\"width\":\"200px\"},attrs:{\"suffix-icon\":\"el-icon-search\",\"placeholder\":\"请输入订单编号\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}}),_c('el-button',{staticClass:\"ml-5\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.load}},[_vm._v(\"搜索\")]),_c('el-button',{attrs:{\"type\":\"warning\"},on:{\"click\":_vm.reset}},[_vm._v(\"重置\")])],1),_c('el-table',{attrs:{\"data\":_vm.tableData,\"stripe\":\"\",\"size\":\"medium\"},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"autoId\",\"label\":\"ID\"}}),_c('el-table-column',{attrs:{\"prop\":\"orderId\",\"label\":\"订单编号\",\"width\":\"160px\"}}),_c('el-table-column',{attrs:{\"prop\":\"money\",\"label\":\"兑换积分\"}}),_c('el-table-column',{attrs:{\"prop\":\"status\",\"label\":\"状态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.status===0)?_c('el-tag',{attrs:{\"type\":\"info\"}},[_vm._v(\"已取消\")]):_vm._e(),(scope.row.status===1)?_c('el-tag',{attrs:{\"type\":\"warning\"}},[_vm._v(\"待支付\")]):_vm._e(),(scope.row.status===2)?_c('el-tag',{attrs:{\"type\":\"primary\"}},[_vm._v(\"待发货\")]):_vm._e(),(scope.row.status===3)?_c('el-tag',{attrs:{\"type\":\"primary\"}},[_vm._v(\"待收货\")]):_vm._e(),(scope.row.status===4)?_c('el-tag',{attrs:{\"type\":\"danger\"}},[_vm._v(\"待评价\")]):_vm._e(),(scope.row.status===5)?_c('el-tag',{attrs:{\"type\":\"success\"}},[_vm._v(\"已完成\")]):_vm._e()]}}])}),_c('el-table-column',{attrs:{\"prop\":\"orderDate\",\"label\":\"创建时间\",\"width\":\"100px\"}}),_c('el-table-column',{attrs:{\"prop\":\"payTime\",\"label\":\"兑换时间\"}}),_c('el-table-column',{attrs:{\"prop\":\"payno\",\"label\":\"兑换编号\"}}),_c('el-table-column',{attrs:{\"label\":\"详情\",\"width\":\"120px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{on:{\"click\":function($event){return _vm.detail(scope.row.orderId)}}},[_vm._v(\"查看详情\")])]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"200\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.status ===1)?_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":function($event){return _vm.changeStatus(scope.row,2)}}},[_vm._v(\"兑换 \")]):_vm._e(),(scope.row.status ===3)?_c('el-button',{attrs:{\"type\":\"warning\"},on:{\"click\":function($event){return _vm.changeStatus(scope.row,4)}}},[_vm._v(\"确认收货 \")]):_vm._e(),(scope.row.status ===1)?_c('el-popconfirm',{staticClass:\"ml-5\",attrs:{\"confirm-button-text\":\"确定\",\"cancel-button-text\":\"我再想想\",\"icon\":\"el-icon-info\",\"icon-color\":\"red\",\"title\":\"您确定取消吗？\"},on:{\"confirm\":function($event){return _vm.changeStatus(scope.row,0)}}},[_c('el-button',{attrs:{\"slot\":\"reference\",\"type\":\"danger\"},slot:\"reference\"},[_vm._v(\"取消\")])],1):_vm._e()]}}])})],1),_c('div',{staticStyle:{\"padding\":\"10px 0\",\"margin\":\"10px 0\",\"background\":\"white\"}},[_c('el-pagination',{attrs:{\"background\":\"\",\"current-page\":_vm.pageNum,\"page-sizes\":[5,10],\"page-size\":_vm.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1),_c('el-dialog',{attrs:{\"title\":\"订单详情\",\"visible\":_vm.dialogFormVisible,\"width\":\"50%\",\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-table',{attrs:{\"data\":_vm.orderdetails,\"border\":\"\",\"stripe\":\"\",\"size\":\"small\"}},[_c('el-table-column',{attrs:{\"prop\":\"productName\",\"label\":\"商品名称\"}}),_c('el-table-column',{attrs:{\"prop\":\"price\",\"label\":\"商品单价\"}}),_c('el-table-column',{attrs:{\"prop\":\"amount\",\"label\":\"商品数量\"}}),_c('el-table-column',{attrs:{\"prop\":\"image\",\"label\":\"图片\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-image',{staticStyle:{\"width\":\"100px\",\"height\":\"100px\"},attrs:{\"src\":scope.row.image,\"preview-src-list\":[scope.row.image]}})]}}])}),_c('el-table-column',{attrs:{\"prop\":\"image\",\"label\":\"评价\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(_vm.status ===4 || _vm.status ===5)?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleComment(scope.row)}}},[_vm._v(\"评价\")]):_vm._e()]}}])})],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(\"关 闭\")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"评价内容\",\"visible\":_vm.dialogFormVisible1,\"width\":\"30%\",\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.dialogFormVisible1=$event}}},[_c('el-form',[_c('el-form-item',[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":\"4\"},model:{value:(_vm.comment),callback:function ($$v) {_vm.comment=$$v},expression:\"comment\"}})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.saveComment}},[_vm._v(\"保 存\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div style=\"width: 1100px;margin-left: -50px\">\r\n\r\n    <div style=\"margin: 10px 0\">\r\n      <el-input suffix-icon=\"el-icon-search\" style=\"width:200px\" placeholder=\"请输入订单编号\" v-model=\"name\"></el-input>\r\n      <el-button  class=\"ml-5\" type=\"primary\" @click=\"load\">搜索</el-button>\r\n      <el-button  type=\"warning\" @click=\"reset\">重置</el-button>\r\n    </div>\r\n\r\n    <el-table :data=\"tableData\" stripe size=\"medium\" @selection-change=\"handleSelectionChange\">\r\n      <el-table-column type=\"selection\" ></el-table-column>  <!--选择框-->\r\n      <el-table-column prop=\"autoId\" label=\"ID\"></el-table-column>\r\n      <el-table-column prop=\"orderId\" label=\"订单编号\" width=\"160px\"></el-table-column>\r\n      <el-table-column prop=\"money\" label=\"兑换积分\"></el-table-column>\r\n      <el-table-column prop=\"status\" label=\"状态\">\r\n        <template v-slot=\"scope\">\r\n          <el-tag type=\"info\" v-if=\"scope.row.status===0\">已取消</el-tag>\r\n          <el-tag type=\"warning\" v-if=\"scope.row.status===1\">待支付</el-tag>\r\n          <el-tag type=\"primary\" v-if=\"scope.row.status===2\">待发货</el-tag>\r\n          <el-tag type=\"primary\" v-if=\"scope.row.status===3\">待收货</el-tag>\r\n          <el-tag type=\"danger\" v-if=\"scope.row.status===4\">待评价</el-tag>\r\n          <el-tag type=\"success\" v-if=\"scope.row.status===5\">已完成</el-tag>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"orderDate\" label=\"创建时间\" width=\"100px\"></el-table-column>\r\n      <el-table-column prop=\"payTime\" label=\"兑换时间\"></el-table-column>\r\n      <el-table-column prop=\"payno\" label=\"兑换编号\"></el-table-column>\r\n      <el-table-column label=\"详情\" width=\"120px\">\r\n        <template v-slot=\"scope\">\r\n          <el-button @click=\"detail(scope.row.orderId)\">查看详情</el-button>\r\n        </template>\r\n      </el-table-column>\r\n\r\n\r\n      <el-table-column label=\"操作\" width=\"200\" align=\"center\">\r\n        <template v-slot=\"scope\">\r\n          <el-button type=\"success\" @click=\"changeStatus(scope.row,2)\" v-if=\"scope.row.status ===1\">兑换 </el-button>\r\n          <el-button type=\"warning\" @click=\"changeStatus(scope.row,4)\" v-if=\"scope.row.status ===3\">确认收货 </el-button>\r\n          <el-popconfirm\r\n              v-if=\"scope.row.status ===1\"\r\n              class=\"ml-5\"\r\n              confirm-button-text='确定'\r\n              cancel-button-text='我再想想'\r\n              icon=\"el-icon-info\"\r\n              icon-color=\"red\"\r\n              title=\"您确定取消吗？\"\r\n              @confirm=\"changeStatus(scope.row,0)\"\r\n          >\r\n            <el-button type=\"danger\" slot=\"reference\">取消</el-button>\r\n          </el-popconfirm>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <div style=\"padding: 10px 0;margin: 10px 0;background: white\">\r\n      <el-pagination\r\n          background\r\n          @size-change=\"handleSizeChange\"\r\n          @current-change=\"handleCurrentChange\"\r\n          :current-page=\"pageNum\"\r\n          :page-sizes=\"[5,10]\"\r\n          :page-size=\"pageSize\"\r\n          layout=\"total, sizes, prev, pager, next, jumper\"\r\n          :total=\"total\">\r\n      </el-pagination>\r\n    </div>\r\n\r\n    <el-dialog title=\"订单详情\" :visible.sync=\"dialogFormVisible\" width=\"50%\" :close-on-click-modal=\"false\">\r\n      <el-table :data=\"orderdetails\" border stripe size=\"small\" >\r\n        <el-table-column prop=\"productName\" label=\"商品名称\"></el-table-column>\r\n        <el-table-column prop=\"price\" label=\"商品单价\"></el-table-column>\r\n        <el-table-column prop=\"amount\" label=\"商品数量\"></el-table-column>\r\n        <el-table-column prop=\"image\" label=\"图片\">\r\n          <template slot-scope=\"scope\">\r\n            <el-image style=\"width: 100px;height: 100px\" :src=\"scope.row.image\" :preview-src-list=\"[scope.row.image]\"></el-image>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"image\" label=\"评价\">\r\n          <template v-slot=\"scope\">\r\n            <el-button @click=\"handleComment(scope.row)\" type=\"primary\" v-if=\"status ===4 || status ===5\">评价</el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"dialogFormVisible = false\">关 闭</el-button>\r\n      </div>\r\n    </el-dialog>\r\n\r\n    <el-dialog title=\"评价内容\" :visible.sync=\"dialogFormVisible1\" width=\"30%\" :close-on-click-modal=\"false\">\r\n      <el-form >\r\n        <el-form-item >\r\n          <el-input v-model=\"comment\" type=\"textarea\" rows=\"4\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"saveComment\">保 存</el-button>\r\n      </div>\r\n    </el-dialog>\r\n\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"Orders\",\r\n  data(){\r\n    return {\r\n      showCommentBtn:false,\r\n      tableData: [],\r\n      total:0,\r\n      pageNum:1,\r\n      pageSize:10,\r\n      name:\"\",\r\n      form:{},\r\n      dialogFormVisible:false,\r\n      dialogFormVisible1:false,\r\n      multipleSelection: [],\r\n      headerBg:'headerBg',\r\n      categorys:[],\r\n      user:localStorage.getItem(\"loguserinfo\")? JSON.parse(localStorage.getItem(\"loguserinfo\")):{},\r\n      orderdetails:[],\r\n      comment:'',\r\n      orderdetail:{},\r\n      status:0\r\n    }\r\n  },\r\n  created() {\r\n    this.load()\r\n  },\r\n  methods: {\r\n    handleComment(row){\r\n      this.orderdetail=JSON.parse(JSON.stringify(row))\r\n      this.comment=this.orderdetail.comment\r\n      this.dialogFormVisible1=true\r\n    },\r\n    saveComment(){\r\n      this.orderdetail.comment=this.comment\r\n      this.request.post(\"/orderdetails/savecomment\",this.orderdetail).then(res=>{\r\n        if(res){\r\n          this.$message.success(\"评价成功\")\r\n          this.dialogFormVisible1=false\r\n          this.load()\r\n        }else {\r\n          this.$message.error(\"评价失败\")\r\n        }\r\n      })\r\n    },\r\n    changeStatus(row,status) {\r\n      row.status=status\r\n      this.request.post(\"/orders/status\",row).then(res=>{\r\n        if(res.code==='200'){\r\n          this.$message.success(\"操作成功\")\r\n          this.load()\r\n        }else if(res.code==='600'){\r\n          this.$message.error(res.msg)\r\n          row.status=1\r\n        }else{\r\n          this.$message.error(\"操作失败\")\r\n        }\r\n      })\r\n    },\r\n    detail(orderId){\r\n      let order=this.tableData.find(v=>v.orderId ===orderId)\r\n      this.orderdetails=order.orderdetails;\r\n      this.status=order.status\r\n      this.dialogFormVisible=true\r\n    },\r\n    handleAdd(){\r\n      this.dialogFormVisible=true\r\n      this.form={}\r\n    },\r\n    handleEdit(row){\r\n      this.form = JSON.parse(JSON.stringify(row)) //深拷贝，解决没点确定表格数据变化问题\r\n      this.dialogFormVisible=true\r\n    },\r\n    del(id){\r\n      this.request.delete(\"/orders/\"+autoId).then(res=>{\r\n        if(res){\r\n          this.$message.success(\"删除成功\")\r\n          this.dialogFormVisible=false\r\n          this.load()\r\n        }else {\r\n          this.$message.error(\"删除失败\")\r\n        }\r\n      })\r\n    },\r\n    delBatch(){\r\n      let ids=this.multipleSelection.map(v => v.autoId)  //[{},{},{}] => [1,2,3] 把一个对象数组转换成纯数组\r\n      this.request.post(\"/orders/del/batch\",ids).then(res=>{\r\n        if(res){\r\n          this.$message.success(\"批量删除成功\")\r\n          this.dialogFormVisible=false\r\n          this.load()\r\n        }else {\r\n          this.$message.error(\"批量删除失败\")\r\n        }\r\n      })\r\n    },\r\n    handleSelectionChange(val){\r\n      this.multipleSelection=val\r\n    },\r\n    load(){\r\n      this.request.get(\"/orders/page\",{\r\n        params:{\r\n          pageNum:this.pageNum,\r\n          pageSize:this.pageSize,\r\n          orderId:this.name,\r\n          memberId:this.user.id\r\n        }\r\n      }).then(res=>{\r\n        this.tableData=res.records\r\n        this.total=res.total\r\n      })\r\n    },\r\n    changeEnable(row){\r\n      this.request.post(\"/orders/update\",row).then(res=>{\r\n        if(res.code==='200'){\r\n          this.$message.success(\"操作成功\")\r\n        }\r\n      })\r\n    },\r\n    save(){\r\n      this.request.post(\"/orders\",this.form).then(res=>{\r\n        if(res){\r\n          this.$message.success(\"保存成功\")\r\n          this.dialogFormVisible=false\r\n          this.load()\r\n        }else {\r\n          this.$message.error(\"保存失败\")\r\n        }\r\n      })\r\n    },\r\n    reset(){\r\n      this.name=\"\"\r\n      this.load()\r\n    },\r\n    handleSizeChange(pageSize){\r\n      console.log(pageSize)\r\n      this.pageSize=pageSize\r\n      this.load()\r\n    },\r\n    handleCurrentChange(pageNum){\r\n      console.log(pageNum)\r\n      this.pageNum=pageNum\r\n      this.load()\r\n    },\r\n    handleImgUploadSuccess(res){\r\n      this.form.image=res\r\n    }\r\n  }\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.headerBg{\r\n  background: #eee !important;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Orders.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Orders.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Orders.vue?vue&type=template&id=72b807f4&scoped=true&\"\nimport script from \"./Orders.vue?vue&type=script&lang=js&\"\nexport * from \"./Orders.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Orders.vue?vue&type=style&index=0&id=72b807f4&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"72b807f4\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticStyle","attrs","model","value","name","callback","$$v","expression","staticClass","on","load","_v","reset","tableData","handleSelectionChange","scopedSlots","_u","key","fn","scope","row","status","_e","$event","detail","orderId","changeStatus","slot","pageNum","pageSize","total","handleSizeChange","handleCurrentChange","dialogFormVisible","orderdetails","image","handleComment","dialogFormVisible1","comment","saveComment","staticRenderFns","data","showCommentBtn","form","multipleSelection","headerBg","categorys","user","localStorage","getItem","JSON","parse","orderdetail","created","methods","stringify","request","post","then","res","$message","success","error","code","msg","order","find","v","handleAdd","handleEdit","del","id","delete","autoId","delBatch","ids","map","val","get","params","memberId","records","changeEnable","save","console","log","handleImgUploadSuccess","component"],"sourceRoot":""}