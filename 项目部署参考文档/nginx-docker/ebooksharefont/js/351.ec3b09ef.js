"use strict";(self["webpackChunkfrontdesk"]=self["webpackChunkfrontdesk"]||[]).push([[351],{2351:function(e,t,s){s.r(t),s.d(t,{default:function(){return c}});var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"base"},[t("div",{staticClass:"loginAndRegist"},[t("div",{staticClass:"loginArea"},[t("transition",{attrs:{name:"animate__animated animate__bounce","enter-active-class":"animate__fadeInUp","leave-active-class":"animate__zoomOut",appear:""}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],staticClass:"title"},[e._v(" LOGIN ")])]),t("transition",{attrs:{name:"animate__animated animate__bounce","enter-active-class":"animate__fadeInUp","leave-active-class":"animate__zoomOut",appear:""}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],staticClass:"pwdArea"},[t("div",{staticStyle:{flex:"1","justify-content":"center",display:"flex","align-items":"center"}},[t("el-form",{ref:"ruleForm",attrs:{model:e.loginUser,rules:e.rules}},[t("el-form-item",{attrs:{prop:"username"}},[t("el-input",{staticClass:"username",staticStyle:{width:"165px"},attrs:{placeholder:"用户名"},model:{value:e.loginUser.username,callback:function(t){e.$set(e.loginUser,"username",t)},expression:"loginUser.username"}})],1),t("el-form-item",{attrs:{prop:"password"}},[t("el-input",{staticStyle:{width:"165px"},attrs:{placeholder:"密码","show-password":""},model:{value:e.loginUser.password,callback:function(t){e.$set(e.loginUser,"password",t)},expression:"loginUser.password"}})],1)],1)],1)])]),t("transition",{attrs:{name:"animate__animated animate__bounce","enter-active-class":"animate__fadeInUp","leave-active-class":"animate__zoomOut",appear:""}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],staticClass:"btnArea"},[t("el-button",{staticStyle:{"background-color":"#257B5E","letter-spacing":"5px"},attrs:{type:"success",round:""},on:{click:e.UserLogin}},[e._v("登录")])],1)])],1),t("div",{staticClass:"registArea"},[t("transition",{attrs:{name:"animate__animated animate__bounce","enter-active-class":"animate__fadeInUp","leave-active-class":"animate__zoomOut",appear:""}},[t("div",{directives:[{name:"show",rawName:"v-show",value:!e.isShow,expression:"!isShow"}],staticClass:"rigestTitle"},[e._v(" 用户注册 ")])]),t("transition",{attrs:{name:"animate__animated animate__bounce","enter-active-class":"animate__fadeInUp","leave-active-class":"animate__zoomOut",appear:""}},[t("div",{directives:[{name:"show",rawName:"v-show",value:!e.isShow,expression:"!isShow"}],staticClass:"registForm"},[t("div",{staticStyle:{flex:"1",display:"flex","justify-content":"center","align-items":"center"}},[e._v(" 用   户   名: "),t("el-input",{staticStyle:{width:"165px","margin-left":"10px"},attrs:{placeholder:"请输入用户名",clearable:""},model:{value:e.regUser.regUsername,callback:function(t){e.$set(e.regUser,"regUsername",t)},expression:"regUser.regUsername"}})],1),t("div",{staticStyle:{flex:"1",display:"flex","justify-content":"center","align-items":"center"}},[e._v(" 密          码: "),t("el-input",{staticStyle:{width:"165px","margin-left":"10px"},attrs:{placeholder:"请输入密码","show-password":""},model:{value:e.regUser.regPwd,callback:function(t){e.$set(e.regUser,"regPwd",t)},expression:"regUser.regPwd"}})],1),t("div",{staticStyle:{flex:"1",display:"flex","justify-content":"center","align-items":"center"}},[e._v(" 确 认 密 码: "),t("el-input",{staticStyle:{width:"165px","margin-left":"10px"},attrs:{placeholder:"请再次输入密码","show-password":""},model:{value:e.regUser.regRePwd,callback:function(t){e.$set(e.regUser,"regRePwd",t)},expression:"regUser.regRePwd"}})],1),t("div",{staticStyle:{flex:"1",display:"flex","justify-content":"center","align-items":"center"}},[e._v(" 邮          箱: "),t("el-input",{staticStyle:{width:"165px","margin-left":"10px"},attrs:{placeholder:"请输入邮箱"},model:{value:e.regUser.regEmail,callback:function(t){e.$set(e.regUser,"regEmail",t)},expression:"regUser.regEmail"}})],1),t("div",{staticStyle:{flex:"1",display:"flex","justify-content":"center","align-items":"center"}},[e._v(" 电 话 号 码: "),t("el-input",{staticStyle:{width:"165px","margin-left":"10px"},attrs:{placeholder:"请输入电话号码"},model:{value:e.regUser.regPhone,callback:function(t){e.$set(e.regUser,"regPhone",t)},expression:"regUser.regPhone"}})],1)])]),t("transition",{attrs:{name:"animate__animated animate__bounce","enter-active-class":"animate__fadeInUp","leave-active-class":"animate__zoomOut",appear:""}},[t("div",{directives:[{name:"show",rawName:"v-show",value:!e.isShow,expression:"!isShow"}],staticClass:"registBtn"},[t("el-button",{staticStyle:{"background-color":"#257B5E","letter-spacing":"5px"},attrs:{type:"success",round:""},on:{click:e.userRegister}},[e._v("注册")])],1)])],1),t("div",{ref:"showInfoView",staticClass:"showInfo",style:{borderTopRightRadius:e.styleObj.bordertoprightradius,borderBottomRightRadius:e.styleObj.borderbottomrightradius,borderTopLeftRadius:e.styleObj.bordertopleftradius,borderBottomLeftRadius:e.styleObj.borderbottomleftradius,right:e.styleObj.rightDis},attrs:{id:"aaa"}},[t("transition",{attrs:{name:"animate__animated animate__bounce","enter-active-class":"animate__fadeInUp","leave-active-class":"animate__zoomOut",appear:""}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],staticStyle:{display:"flex","flex-direction":"column","align-items":"center","justify-content":"center",width:"100%",height:"100%"}},[t("div",{staticStyle:{flex:"2",display:"flex","align-items":"center","font-size":"22px",color:"#FFFFFF","font-weight":"bold"}},[e._v(" 欢迎使用上海大学电子图书分享平台 ")]),t("div",{staticStyle:{flex:"2"}},[t("el-button",{staticStyle:{"background-color":"#257B5E",border:"1px solid #ffffff"},attrs:{type:"success",round:""},on:{click:e.changeToRegiest}},[e._v("还没有账户？点击注册")])],1)])]),t("transition",{attrs:{name:"animate__animated animate__bounce","enter-active-class":"animate__fadeInUp","leave-active-class":"animate__zoomOut",appear:""}},[t("div",{directives:[{name:"show",rawName:"v-show",value:!e.isShow,expression:"!isShow"}],staticStyle:{display:"flex","flex-direction":"column","align-items":"center","justify-content":"center",width:"100%",height:"100%"}},[t("div",{staticStyle:{flex:"2",display:"flex","align-items":"center","font-size":"22px",color:"#FFFFFF","font-weight":"bold"}},[e._v(" 欢迎注册 ")]),t("div",{staticStyle:{flex:"2"}},[t("el-button",{staticStyle:{"background-color":"#257B5E",border:"1px solid #ffffff"},attrs:{type:"success",round:""},on:{click:e.changeToLogin}},[e._v("已有账户？点击登录")])],1)])])],1)])])},a=[],i=(s(7658),{name:"Login",data(){return{loginUser:{username:"",password:""},regUser:{regUsername:"",regRePwd:"",regPwd:"",regEmail:"",regPhone:""},rules:{username:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},styleObj:{bordertoprightradius:"15px",borderbottomrightradius:"15px",bordertopleftradius:"0px",borderbottomleftradius:"0px",rightDis:"0px"},isShow:!0}},created(){},methods:{changeToRegiest(){this.styleObj.bordertoprightradius="0px",this.styleObj.borderbottomrightradius="0px",this.styleObj.bordertopleftradius="15px",this.styleObj.borderbottomleftradius="15px",this.styleObj.rightDis="50%",this.isShow=!this.isShow},changeToLogin(){this.styleObj.bordertoprightradius="15px",this.styleObj.borderbottomrightradius="15px",this.styleObj.bordertopleftradius="0px",this.styleObj.borderbottomleftradius="0px",this.styleObj.rightDis="0px",this.isShow=!this.isShow},UserLogin(){this.$refs["ruleForm"].validate((e=>{e&&this.request.post("http://124.71.166.37:9091/users/login",this.loginUser).then((e=>{"200"==e.code?(localStorage.setItem("loguserinfo",JSON.stringify(e.data)),this.$router.push("/home"),this.$message.success("登陆成功！")):"400"==e.code?this.$message.warning(e.msg):"401"==e.code?this.$message.error(e.msg):this.$message.error("用户名或密码错误！")}))}))},userRegister(){const e=/^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+\.[a-zA-Z0-9_-]+$/,t=/^(?:\+86)?1[3-9]\d{9}$|^(?:\+852)?\d{8}$/;if(""===this.regUser.regUsername)return this.$message.error("用户名不能为空！"),!1;if(""===this.regUser.regPwd)return this.$message.error("密码不能为空！"),!1;if(this.regUser.regPwd!=this.regUser.regRePwd)return this.$message.error("两次密码输入不同，请检查后重新注册！"),!1;if(""===this.regUser.regEmail)return this.$message.error("邮箱不能为空！"),!1;if(!e.test(this.regUser.regEmail))return this.$message.error("邮箱不正确请检查后重新输入！"),!1;if(""===this.regUser.regPhone)return this.$message.error("电话号码不能为空！"),!1;if(!t.test(this.regUser.regPhone))return this.$message.error("电话号码不正确请重新输入！"),!1;{let e={};e.username=this.regUser.regUsername,e.password=this.regUser.regPwd,e.email=this.regUser.regEmail,e.phone=this.regUser.regPhone,this.request.post("http://124.71.166.37:9091/users/register",e).then((e=>{"200"===e.code&&(this.$message.success("注册成功！"),this.changeToLogin()),"400"!==e.code||this.$message.error(e.msg)}))}}}}),o=i,n=s(3736),l=(0,n.Z)(o,r,a,!1,null,null,null),c=l.exports}}]);
//# sourceMappingURL=351.ec3b09ef.js.map