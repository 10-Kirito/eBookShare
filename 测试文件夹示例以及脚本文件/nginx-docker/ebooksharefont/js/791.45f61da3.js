"use strict";(self["webpackChunkfrontdesk"]=self["webpackChunkfrontdesk"]||[]).push([[791],{109:function(t,o,e){e.d(o,{Z:function(){return c}});var a=function(){var t=this,o=t._self._c;return t.bookInfo?o("div",{staticStyle:{width:"420px","margin-top":"20px","margin-left":"60px"},on:{click:t.goToPreview}},[o("el-tooltip",{staticStyle:{height:"370px"},attrs:{placement:"top",effect:"light"}},[o("div",{attrs:{slot:"content"},slot:"content"},[o("span",[t._v(t._s(t.bookInfo.bookname))]),o("div",[o("p",{staticStyle:{width:"250px"}},[t._v(t._s(t.bookInfo.description))]),o("el-button",{attrs:{type:"success"},on:{click:t.download}},[t._v("下载")])],1)]),o("el-card",{staticStyle:{height:"100%"}},[o("div",{staticStyle:{position:"relative",width:"100%",height:"100%"}},[o("img",{staticClass:"image",staticStyle:{height:"300px"},attrs:{src:t.bookInfo.coverimage}})]),o("div",{staticStyle:{"margin-top":"2px","margin-bottom":"2px"}},[t._v(" "+t._s(t.bookInfo.bookname)+" ")])])],1)],1):t._e()},n=[],r={name:"bookFromShelf",props:{bookInfo:{}},data(){return{bookDetails:{}}},created(){console.log(this.bookInfo)},methods:{goToPreview(){let t="http://124.71.166.37:9091/file/5c50f98e6850407fa82991b6e248915a.pdf";window.open(`/lib/pdfjs-3.5.141-dist/web/viewer.html?file=${t}`)},download(){console.log(this.bookInfo.url),window.open(this.bookInfo.url)}}},i=r,s=e(3736),l=(0,s.Z)(i,a,n,!1,null,"64987cac",null),c=l.exports},8791:function(t,o,e){e.r(o),e.d(o,{default:function(){return u}});var a=function(){var t=this,o=t._self._c;return o("div",{staticClass:"header-with-background",staticStyle:{width:"90%","margin-left":"5%"}},[t._l(t.rowCount,(function(e,a){return t.booksData[(e-1)*t.colCount]?o("el-row",{key:e,staticStyle:{"margin-bottom":"30px","min-width":"1200px"},attrs:{gutter:24}},t._l(t.colCount,(function(a,n){return o("el-col",{key:a,staticStyle:{width:"300px"},attrs:{span:6}},[t.dataload?o("book-from-shelf",{staticStyle:{width:"100%"},attrs:{bookInfo:t.booksData[(e-1)*t.colCount+a-1]}}):t._e()],1)})),1):t._e()})),o("el-row",{staticStyle:{"margin-top":"10px"}},[o("div",[o("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":t.pageSize,layout:"prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(o){t.currentPage=o},"update:current-page":function(o){t.currentPage=o}}})],1)])],2)},n=[],r=e(109),i={name:"FavourShelf",components:{bookFromShelf:r.Z},data(){return{rowCount:3,colCount:4,currentPage:1,pageSize:this.rowCount*this.colCount,total:100,user:localStorage.getItem("loguserinfo")?JSON.parse(localStorage.getItem("loguserinfo")):{id:0},booksData:[],dataload:!1}},beforeMount(){0!=this.user.id?this.getAllBooksData():this.$message.error("请先登录")},methods:{handleSizeChange(t){console.log(`每页 ${t} 条`),this.pageSize=t},handleCurrentChange(t){console.log(`当前页: ${t}`),this.currentPage=t},getAllBooksData(){this.request.get("/FrontBooks/bookself",{params:{userid:this.user.id,operator:"isfavour",pageNum:this.currentPage,pageSize:this.rowCount*this.rowCount}}).then((t=>{this.booksData=t.data,console.log(this.booksData),this.dataload=!0}))}}},s=i,l=e(3736),c=(0,l.Z)(s,a,n,!1,null,"c7dfd4da",null),u=c.exports}}]);
//# sourceMappingURL=791.45f61da3.js.map