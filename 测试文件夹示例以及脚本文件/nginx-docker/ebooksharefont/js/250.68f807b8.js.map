{"version":3,"file":"js/250.68f807b8.js","mappings":"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","sources":["webpack://frontdesk/./src/views/HomePage.vue","webpack://frontdesk/src/views/HomePage.vue","webpack://frontdesk/./src/views/HomePage.vue?c6a0","webpack://frontdesk/./src/views/HomePage.vue?5d8e"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticClass:\"header-with-background\",staticStyle:{\"margin-bottom\":\"10px\"}},[_c('el-row',{staticStyle:{\"margin-bottom\":\"30px\"}},[_c('div',{staticStyle:{\"margin-top\":\"50px\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.searchQuery),expression:\"searchQuery\"}],staticClass:\"input is-rounded\",staticStyle:{\"width\":\"40%\",\"font-size\":\"25px\"},attrs:{\"type\":\"text\",\"placeholder\":\"输入关键字搜索图书\"},domProps:{\"value\":(_vm.searchQuery)},on:{\"input\":function($event){if($event.target.composing)return;_vm.searchQuery=$event.target.value}}}),_c('button',{staticClass:\"button is-success is-rounded\",staticStyle:{\"font-size\":\"26px\",\"margin-left\":\"10px\"},on:{\"click\":_vm.searchBooks}},[_vm._v(\"查询\")])])]),_c('el-row',[_c('el-col',{staticStyle:{\"color\":\"#42b983\"},attrs:{\"span\":6}},[_c('div',{staticClass:\"grid-content bg-purple\"},[_c('el-card',{staticClass:\"box-card\",staticStyle:{\"margin-right\":\"10px\",\"height\":\"100%\"}},[_c('h1',[_vm._v(\"图书总榜单\")]),_vm._l((_vm.booksDownloadList),function(book,index){return _c('el-card',{key:index,class:index % 2 === 0 ? 'even' : 'odd'},[_c('el-row',{staticStyle:{\"cursor\":\"pointer\"},nativeOn:{\"mouseenter\":function($event){return _vm.showInfo(index)},\"mouseleave\":function($event){return _vm.hideInfo(index)},\"click\":function($event){return _vm.pushDetail(_vm.booksDownloadList[index])}}},[_c('el-col',{attrs:{\"span\":8}},[_c('img',{staticClass:\"book-cover\",attrs:{\"src\":book.coverimage}})]),_c('el-col',{staticClass:\"book-info\",attrs:{\"span\":16}},[_c('div',{staticClass:\"book-title\"},[_vm._v(_vm._s(book.bookname))]),_c('div',{staticClass:\"book-download\"},[_vm._v(_vm._s(book.downloads)+\"次下载\")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showLeftDetails===index),expression:\"showLeftDetails===index\"}],staticClass:\"book-details\"},[_c('div',{staticClass:\"book-author\"},[_c('span',{staticClass:\"book-author\",attrs:{\"title\":\"找到该作者的所有书籍\"},on:{\"click\":function($event){return _vm.redirectToAuthorBooks(book.author)}}},[_vm._v(_vm._s(book.author))])]),_c('div',{staticClass:\"book-category\",attrs:{\"title\":\"类别\"}},[_vm._v(_vm._s(book.category))])])])],1)],1)})],2)],1)]),_c('el-col',{attrs:{\"span\":12}},[_c('div',{staticClass:\"grid-content bg-purple-light\"},[_c('h1',[_vm._v(\"今日推荐阅读图书：\")]),_vm._l((_vm.bookDetails),function(book,index){return _c('el-card',{key:index,staticClass:\"box-card\",staticStyle:{\"margin-bottom\":\"15px\"}},[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":6}},[_c('el-image',{staticStyle:{\"cursor\":\"pointer\",\"height\":\"150px\"},attrs:{\"src\":book.coverimage,\"fit\":\"contain\",\"lazy\":\"\"},on:{\"click\":function($event){return _vm.pushDetail(_vm.bookDetails[index])}}})],1),_c('el-col',{attrs:{\"span\":15}},[_c('el-row',{staticClass:\"attriclass\"},[_c('el-col',{attrs:{\"span\":23}},[_c('h3',{staticStyle:{\"cursor\":\"pointer\",\"text-decoration\":\"underline\"},on:{\"click\":function($event){return _vm.pushDetail(_vm.bookDetails[index])}}},[_vm._v(_vm._s(book.bookname))])]),_c('el-col',{attrs:{\"span\":1}},[_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":book.isCollected ? '取消收藏' : '收藏'}},[_c('i',{class:book.collectBtnClass,staticStyle:{\"cursor\":\"pointer\",\"font-size\":\"25px\",\"margin-left\":\"18px\",\"margin-top\":\"20px\"},on:{\"click\":function($event){return _vm.collectBtn(index,book)}}})])],1)],1),_c('el-row',{staticStyle:{\"margin-left\":\"-40px\",\"padding-top\":\"-10px\"}},[_c('div',{staticClass:\"grid-content book-publisher\",attrs:{\"title\":\"出版社\"}},[_vm._v(_vm._s(book.publisher))])]),_c('el-row',{staticClass:\"attriclass\"},[_c('span',{staticClass:\"book-author\",attrs:{\"title\":\"找到该作者的所有书籍\"},on:{\"click\":function($event){return _vm.redirectToAuthorBooks(book.author)}}},[_vm._v(_vm._s(book.author))])]),_c('el-row',{staticClass:\"attriclass\",staticStyle:{\"margin-top\":\"40px\"}},[_c('el-col',{attrs:{\"span\":12}},[_c('div',{staticStyle:{\"color\":\"#8C8C8C\"}},[_vm._v(\"标准书号: \"+_vm._s(book.isbn))])]),_c('el-col',{attrs:{\"span\":8}},[_c('div',{staticStyle:{\"color\":\"#8C8C8C\"}},[_vm._v(\"类别：\"+_vm._s(book.category))])]),_c('el-col',{attrs:{\"span\":4}},[_c('div',{staticStyle:{\"color\":\"#8C8C8C\"}},[_vm._v(\"文件：\"+_vm._s(book.type))])])],1)],1)],1)],1)})],2)]),_c('el-col',{attrs:{\"span\":6}},[_c('div',{staticClass:\"grid-content bg-purple-light\"},[_c('div',{staticClass:\"grid-content bg-purple\"},[_c('el-card',{staticClass:\"box-card\",staticStyle:{\"margin-left\":\"10px\",\"height\":\"100%\"}},[_c('h1',[_vm._v(\"图书下载榜单\")]),_vm._l((_vm.todayPopularBooks),function(book,index){return _c('el-card',{key:index,class:index % 2 === 0 ? 'even' : 'odd'},[(book)?_c('el-row',{staticStyle:{\"cursor\":\"pointer\"},nativeOn:{\"mouseenter\":function($event){return _vm.showInfo2(index)},\"mouseleave\":function($event){return _vm.hideInfo2(index)},\"click\":function($event){return _vm.pushDetail(_vm.todayPopularBooks[index])}}},[_c('el-col',{attrs:{\"span\":8}},[_c('img',{staticClass:\"book-cover\",attrs:{\"src\":book.coverimage}})]),_c('el-col',{staticClass:\"book-info\",attrs:{\"span\":16}},[_c('div',{staticClass:\"book-title\"},[_vm._v(_vm._s(book.bookname))]),_c('div',{staticClass:\"book-download\"},[_vm._v(_vm._s(book.downloads)+\"次下载\")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showRightDetails===index),expression:\"showRightDetails===index\"}],staticClass:\"book-details\"},[_c('div',{staticClass:\"book-author\"},[_c('span',{staticClass:\"book-author\",attrs:{\"title\":\"找到该作者的所有书籍\"},on:{\"click\":function($event){return _vm.redirectToAuthorBooks(book.author)}}},[_vm._v(_vm._s(book.author))])]),_c('div',{staticClass:\"book-category\",attrs:{\"title\":\"类别\"}},[_vm._v(_vm._s(book.category))])])])],1):_vm._e()],1)})],2)],1)])])],1)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n<div>\r\n  <!--  首页主要组成部分-->\r\n  <div style=\"margin-bottom: 10px\" class=\"header-with-background\">\r\n    <el-row style=\"margin-bottom:30px\">\r\n      <div style=\"margin-top: 50px\">\r\n        <input class=\"input is-rounded\" type=\"text\" placeholder=\"输入关键字搜索图书\" style=\"width: 40%; font-size: 25px\" v-model=\"searchQuery\">\r\n\r\n        <button class=\"button is-success is-rounded\" @click=\"searchBooks\" style=\"font-size: 26px; margin-left: 10px\">查询</button>\r\n      </div>\r\n\r\n    </el-row>\r\n    <el-row>\r\n      <!-- 左侧显示内容-->\r\n      <el-col :span=\"6\" style=\"color: #42b983\">\r\n        <div class=\"grid-content bg-purple\" >\r\n          <el-card class=\"box-card\" style=\"margin-right: 10px; height: 100%\">\r\n            <h1>图书总榜单</h1>\r\n\r\n            <el-card v-for=\"(book, index) in booksDownloadList\" :key=\"index\"  :class=\"index % 2 === 0 ? 'even' : 'odd'\">\r\n                <el-row @mouseenter.native=\"showInfo(index)\" @mouseleave.native=\"hideInfo(index)\" @click.native=\"pushDetail(booksDownloadList[index])\" style=\"cursor: pointer;\">\r\n                <el-col :span=\"8\">\r\n                  <img :src=\"book.coverimage\" class=\"book-cover\"/>\r\n                </el-col>\r\n                <el-col :span=\"16\" class=\"book-info\">\r\n                  <div class=\"book-title\">{{ book.bookname }}</div>\r\n                  <div class=\"book-download\">{{ book.downloads }}次下载</div>\r\n                  <div class=\"book-details\" v-show=\"showLeftDetails===index\">\r\n                    <div class=\"book-author\"><span @click=\"redirectToAuthorBooks(book.author)\" title=\"找到该作者的所有书籍\" class=\"book-author\">{{book.author}}</span></div>\r\n                    <div class=\"book-category\" title=\"类别\">{{ book.category }}</div>\r\n                  </div>\r\n                </el-col>\r\n              </el-row>\r\n            </el-card>\r\n\r\n          </el-card>\r\n        </div>\r\n      </el-col>\r\n\r\n      <!--用来展示推荐书籍的地方，以卡片的方式进行展示！，每一个卡片上都有对应书籍的信息！-->\r\n      <el-col :span=\"12\">\r\n        <div class=\"grid-content bg-purple-light\">\r\n          <h1>今日推荐阅读图书：</h1>\r\n\r\n          <el-card class=\"box-card\" v-for=\"(book,index) in bookDetails\" :key=\"index\" style=\"margin-bottom: 15px\">\r\n            <el-row :gutter=\"20\">\r\n              <el-col :span=\"6\"  >\r\n                <el-image :src=\"book.coverimage\" @click=\"pushDetail(bookDetails[index])\" fit=\"contain\" lazy style=\"cursor: pointer;height: 150px;\"/>\r\n              </el-col>\r\n              <el-col :span=\"15\" >\r\n                <el-row class=\"attriclass\" >\r\n                  <el-col :span=\"23\">\r\n                    <h3 @click=\"pushDetail(bookDetails[index])\" style=\"cursor: pointer;text-decoration: underline\">{{ book.bookname }}</h3>\r\n                  </el-col>\r\n                  <el-col :span=\"1\">\r\n                    <el-tooltip class=\"item\" effect=\"dark\" :content=\"book.isCollected ? '取消收藏' : '收藏' \">\r\n                      <i :class=\"book.collectBtnClass\" @click=\"collectBtn(index,book)\" style=\"cursor: pointer;font-size: 25px;margin-left: 18px;margin-top: 20px\"></i>\r\n                    </el-tooltip>\r\n                  </el-col>\r\n                </el-row>\r\n                <el-row style=\"margin-left: -40px;padding-top: -10px\"><div class=\"grid-content book-publisher\" title=\"出版社\">{{book.publisher}}</div></el-row>\r\n                <el-row class=\"attriclass\"><span @click=\"redirectToAuthorBooks(book.author)\" title=\"找到该作者的所有书籍\" class=\"book-author\">{{book.author}}</span></el-row>\r\n                <el-row class=\"attriclass\" style=\"margin-top: 40px\">\r\n                  <el-col :span=\"12\" ><div style=\"color: #8C8C8C; \">标准书号: {{book.isbn}}</div></el-col>\r\n                  <el-col :span=\"8\" ><div style=\"color: #8C8C8C;\">类别：{{book.category}}</div></el-col>\r\n                  <el-col :span=\"4\" ><div style=\"color: #8C8C8C;\">文件：{{book.type}}</div></el-col>\r\n                </el-row>\r\n              </el-col>\r\n            </el-row>\r\n          </el-card>\r\n        </div>\r\n      </el-col>\r\n\r\n      <!--右侧显示内容-->\r\n      <el-col :span=\"6\">\r\n        <div class=\"grid-content bg-purple-light\">\r\n          <div class=\"grid-content bg-purple\" >\r\n            <el-card class=\"box-card\" style=\"margin-left: 10px; height: 100%\">\r\n              <h1>图书下载榜单</h1>\r\n              <el-card v-for=\"(book, index) in todayPopularBooks\" :key=\"index\"  :class=\"index % 2 === 0 ? 'even' : 'odd'\">\r\n                <el-row v-if=\"book\" @mouseenter.native=\"showInfo2(index)\" @mouseleave.native=\"hideInfo2(index)\" @click.native=\"pushDetail(todayPopularBooks[index])\" style=\"cursor: pointer;\">\r\n                  <el-col :span=\"8\">\r\n                    <img :src=\"book.coverimage\" class=\"book-cover\"/>\r\n                  </el-col>\r\n                  <el-col :span=\"16\" class=\"book-info\">\r\n                    <div class=\"book-title\">{{ book.bookname }}</div>\r\n                    <div class=\"book-download\">{{ book.downloads }}次下载</div>\r\n                    <div class=\"book-details\" v-show=\"showRightDetails===index\">\r\n                      <div class=\"book-author\"><span @click=\"redirectToAuthorBooks(book.author)\" title=\"找到该作者的所有书籍\" class=\"book-author\">{{book.author}}</span></div>\r\n                      <div class=\"book-category\" title=\"类别\">{{ book.category }}</div>\r\n                    </div>\r\n                  </el-col>\r\n                </el-row>\r\n              </el-card>\r\n            </el-card>\r\n          </div>\r\n        </div>\r\n      </el-col>\r\n\r\n    </el-row>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport router from \"@/router\";\r\nimport Vue from \"vue\";\r\n\r\nexport default {\r\n  inject:['reload'],\r\n  name: \"Home\",\r\n  data() {\r\n    return {\r\n      // 用户个人信息\r\n      user:{},\r\n\r\n      flag: true,\r\n\r\n\r\n      pageTitle: '上海大学电子图书分享平台',\r\n\r\n      //书籍信息保存在这个数组中，//今日推荐阅读图书信息\r\n      bookDetails: [],\r\n      recommendNumber: 7,\r\n\r\n      //图书总榜单信息，按图书下载量+收藏量+点赞量排行\r\n      booksDownloadList:[],\r\n\r\n      //图书下载榜单信息，按照下载量排行\r\n      todayPopularBooks:[],\r\n      searchQuery:'',\r\n      // total:0,\r\n      // pageNum:1,\r\n      // pageSize:10,\r\n      showLeftDetails: -1 ,// 当前显示详情的左侧图书索引\r\n      showRightDetails: -1, // 当前显示详情的右侧图书索引\r\n    };\r\n  },\r\n  created() {\r\n    this.getUser();\r\n    this.getRecommendBooks();\r\n\r\n    this.getDowndoadTop();\r\n    this.getTotalList();\r\n  },\r\n  methods: {\r\n    //获取用户信息\r\n    getUser(){\r\n      const data = localStorage.getItem('loguserinfo')?JSON.parse(localStorage.getItem('loguserinfo')): {id:0}\r\n      if (data) {\r\n        Vue.set(this, 'user', data);\r\n      }\r\n    },\r\n\r\n    // 获取图书总榜单信息\r\n    getTotalList(){\r\n      this.request.get(\"http://124.71.166.37:9091/books/overallbooklist\",{\r\n        params: {\r\n          userid:this.user.id\r\n        }\r\n      }).then(res => {\r\n        console.log(res);\r\n        this.booksDownloadList = res.data;\r\n        this.booksDownloadList.forEach(book => {          //遍历数组，为每个对象添加 isCollected 属性 和 collectBtnClass 属性\r\n          book.collectBtnClass = \"el-icon-star-off\"\r\n          if(book.isfavour==1){\r\n            book.isCollected = true;\r\n            book.collectBtnClass = \"el-icon-star-on\"\r\n          }\r\n          else\r\n            book.isCollected = false;\r\n          if(book.islike==1)\r\n            book.islike=true;\r\n          else\r\n            book.islike=false;\r\n          //默认值关闭\r\n        })\r\n      })\r\n    },\r\n    // 获取图书下载的总榜单\r\n    getDowndoadTop(){\r\n      this.request.get(\"http://124.71.166.37:9091/books/downloadBooks\",{\r\n        params: {\r\n          userid:this.user.id\r\n        }\r\n      }).then(res => {\r\n        console.log(res);\r\n        this.todayPopularBooks = res.data;\r\n        this.todayPopularBooks.forEach(book => {          //遍历数组，为每个对象添加 isCollected 属性 和 collectBtnClass 属性\r\n          book.collectBtnClass = \"el-icon-star-off\"\r\n          if(book.isfavour==1){\r\n            book.isCollected = true;\r\n            book.collectBtnClass = \"el-icon-star-on\"\r\n          }\r\n          else\r\n            book.isCollected = false;\r\n          if(book.islike==1)\r\n            book.islike=true;\r\n          else\r\n            book.islike=false;\r\n          //默认值关闭\r\n        })\r\n      })\r\n    },\r\n    searchBooks() {\r\n      //跳转到搜索结果页进行搜索\r\n      router.push({\r\n        path:'/searchResult',\r\n        //路由传递参数，将搜索关键字传递过去搜索\r\n        query:{params:JSON.stringify(this.searchQuery)}\r\n      })\r\n    },\r\n    getRecommendBooks(){//分页查询今日推荐的图书\r\n      this.request.get(\"http://124.71.166.37:9091/books/random\", {           //更改后台接口\r\n        params: {\r\n          number: this.recommendNumber,\r\n          userid:this.user.id\r\n        }\r\n      }).then(res => {\r\n        console.log(res.data);\r\n        this.bookDetails = res.data                   //根据后台数据更改\r\n        this.bookDetails.forEach(book => {          //遍历数组，为每个对象添加 isCollected 属性 和 collectBtnClass 属性\r\n          book.collectBtnClass = \"el-icon-star-off\"\r\n          if(book.isfavour==1){\r\n            book.isCollected = true;\r\n            book.collectBtnClass = \"el-icon-star-on\"\r\n          }\r\n          else\r\n            book.isCollected = false;\r\n          if(book.islike==1)\r\n            book.islike=true;\r\n          else\r\n            book.islike=false;\r\n          //默认值关闭\r\n        })\r\n      })\r\n    },\r\n    pushDetail(index){           //跳转路由函数\r\n      // console.log(JSON.stringify(this.bookDetails[0]))\r\n      router.push({\r\n        path:'/bookdetails',\r\n        //路由传递参数，将书的信息传递到书籍详情页\r\n        query:{params:JSON.stringify(index)}\r\n      })\r\n    },\r\n    redirectToAuthorBooks(author){          //将作者作为参数跳转到 找到作者的所有书籍 页面\r\n      this.$router.push({\r\n        path:'/searchResult',\r\n        query:{params:JSON.stringify(author)}\r\n      })\r\n    },\r\n    collectBtn(index,book){//收藏\r\n      if(this.user.id==0){\r\n        this.$message.error(\"请先登录\");\r\n        return;\r\n      }\r\n\r\n\r\n      this.bookDetails[index].isCollected=!this.bookDetails[index].isCollected\r\n      if(this.bookDetails[index].isCollected){\r\n        this.$message({\r\n          message: '收藏成功',\r\n          type: 'success'\r\n        });\r\n        this.bookDetails[index].collectBtnClass=\"el-icon-star-on\";\r\n\r\n        this.request.get(\"http://124.71.166.37:9091/relationship/favourbook\", {\r\n          params:{\r\n            bookid: book.bookid,\r\n            userid: this.user.id\r\n          }\r\n        }).then(response => {\r\n          console.log(response);\r\n        })\r\n        console.log(\"收藏\");\r\n      }else{  //取消收藏\r\n        this.$message({\r\n          message: '取消成功',\r\n          type: 'success'\r\n        });\r\n        this.bookDetails[index].collectBtnClass=\"el-icon-star-off\";\r\n\r\n        this.request.get(\"http://124.71.166.37:9091/relationship/favourbook\", {\r\n          params:{\r\n            bookid: book.bookid,\r\n            userid: this.user.id\r\n          }\r\n        }).then(response => {\r\n          console.log(response);\r\n        })\r\n        console.log(\"取消收藏\");\r\n      }\r\n      this.$forceUpdate()\r\n    },\r\n    showInfo(index) {\r\n      // console.log(\"this has been enter\")\r\n      this.showLeftDetails = index\r\n    },\r\n    hideInfo(index) {\r\n      // console.log(\"this has been out\")\r\n      this.showLeftDetails = -1\r\n    },\r\n    showInfo2(index) {\r\n      // console.log(\"this has been enter\")\r\n      this.showRightDetails = index\r\n    },\r\n    hideInfo2(index) {\r\n      // console.log(\"this has been out\")\r\n      this.showRightDetails = -1\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.book-cover {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n}\r\n\r\n.book-info {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  padding: 10px;\r\n}\r\n\r\n.book-title {\r\n  font-size: 18px;\r\n  font-weight: bold;\r\n  margin-bottom: 5px;\r\n}\r\n\r\n.book-download {\r\n  font-size: 14px;\r\n  color: #999;\r\n  margin-bottom: 5px;\r\n}\r\n\r\n.book-details {\r\n  font-size: 14px;\r\n  color: #999;\r\n  margin-top: 5px;\r\n  display: block;\r\n}\r\n\r\n.book-category {\r\n  margin-bottom: 5px;\r\n}\r\n\r\n.even {\r\n  background-color: #f7f7f7;\r\n}\r\n\r\n.odd {\r\n  background-color: #fff;\r\n}\r\n\r\n.book-publisher{\r\n  color: #8C8C8C;\r\n  margin-bottom:10px;\r\n  cursor: pointer;\r\n}\r\n.book-author {\r\n  font-size: 17px;\r\n  color: #49afd0;\r\n  font-style: italic;\r\n  font-family: Helvetica;\r\n  cursor: pointer;\r\n  text-decoration: none;\r\n  margin-bottom: 5px;\r\n}\r\n.attriclass{\r\n  padding: 0;\r\n  margin: -10px -10px -10px -40px;\r\n}\r\n\r\n.grid-content {\r\n  text-align: left;\r\n  margin-left: 0px;\r\n  border-radius: 4px;\r\n  min-height: 36px;\r\n}\r\n\r\nh1 {\r\n  font-size: 24px;\r\n  font-weight: bold;\r\n  margin-bottom: 16px;\r\n}\r\n.header-with-background {\r\n  background-image: url('~@/assets/images/whiteback.jpg');\r\n  /*background-size: cover;*/\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./HomePage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./HomePage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HomePage.vue?vue&type=template&id=60f482ce&scoped=true&\"\nimport script from \"./HomePage.vue?vue&type=script&lang=js&\"\nexport * from \"./HomePage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./HomePage.vue?vue&type=style&index=0&id=60f482ce&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"60f482ce\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","staticStyle","directives","name","rawName","value","searchQuery","expression","attrs","domProps","on","$event","target","composing","searchBooks","_v","_l","booksDownloadList","book","index","key","class","nativeOn","showInfo","hideInfo","pushDetail","coverimage","_s","bookname","downloads","showLeftDetails","redirectToAuthorBooks","author","category","bookDetails","isCollected","collectBtnClass","collectBtn","publisher","isbn","type","todayPopularBooks","showInfo2","hideInfo2","showRightDetails","_e","staticRenderFns","inject","data","user","flag","pageTitle","recommendNumber","created","getUser","getRecommendBooks","getDowndoadTop","getTotalList","methods","localStorage","getItem","JSON","parse","id","Vue","request","get","params","userid","then","res","console","log","forEach","isfavour","islike","router","path","query","stringify","number","$router","push","$message","message","bookid","response","$forceUpdate","error","component"],"sourceRoot":""}